{"version":3,"file":"static/js/634.be0da1ad.chunk.js","mappings":"0MAuFA,QAjFA,WACE,MAAOA,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,KACtCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,KAC5BK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IAChCO,EAAiBC,IAAsBR,EAAAA,EAAAA,UAAS,CACrDF,YAAY,EACZG,UAAU,IAENQ,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KACRL,GAAW,GACXE,EAAmB,CACjBV,YAAY,EACZG,UAAU,IAGZ,MAAMW,EAAS,CACbC,YAAW,IAAML,GAAmBM,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAEhB,YAAY,OAAU,KAC9Ee,YAAW,IAAML,GAAmBM,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAEb,UAAU,OAAU,MAG9E,MAAO,IAAMW,EAAOI,QAAQC,aAAa,GACxC,IAEH,MAAMC,EAAcC,UAClB,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,KAAK,GAADC,OAAIC,EAAAA,EAAO,UAAU,CACpD1B,aACAG,aAEFwB,aAAaC,QAAQ,QAASN,EAASO,KAAKC,OAC5CH,aAAaC,QAAQ,OAAQG,KAAKC,UAAUV,EAASO,KAAKI,OAC1DtB,EAAS,KACTI,YAAW,IAAMmB,OAAOC,SAASC,UAAU,IAC7C,CAAE,MAAOC,GAAM,IAADC,EAAAC,EACZjC,GAAqB,QAAZgC,EAAAD,EAAIf,gBAAQ,IAAAgB,GAAM,QAANC,EAAZD,EAAcT,YAAI,IAAAU,OAAN,EAAZA,EAAoBlC,QAAS,wFACxC,GAGImC,EAAkBC,IACR,UAAVA,EAAEC,KACJtB,GACF,EAGF,OACEuB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,MAAA,OAAKF,UAAS,kBAAAnB,OAAoBlB,EAAU,UAAY,IAAKsC,SAAA,EAC3DF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAC,2FAC1BxC,IAASsC,EAAAA,EAAAA,KAAA,KAAGC,UAAU,QAAOC,SAAExC,KAChCsC,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,SAAC,kGAC9BF,EAAAA,EAAAA,KAAA,SACEI,KAAK,OACLC,MAAOhD,EACPiD,SAAWR,GAAMxC,EAAcwC,EAAES,OAAOF,OACxCG,WAAYX,EACZI,UAAS,cAAAnB,OAAgBhB,EAAgBT,WAAa,gBAAkB,IACxEoD,YAAY,6IAEdT,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,SAAC,0CAC9BF,EAAAA,EAAAA,KAAA,SACEI,KAAK,WACLC,MAAO7C,EACP8C,SAAWR,GAAMrC,EAAYqC,EAAES,OAAOF,OACtCG,WAAYX,EACZI,UAAS,cAAAnB,OAAgBhB,EAAgBN,SAAW,gBAAkB,IACtEiD,YAAY,qFAEdT,EAAAA,EAAAA,KAAA,UAAQU,QAASjC,EAAawB,UAAU,cAAaC,SAAC,0CAGtDC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,cAAaC,SAAA,CAAC,qFACTF,EAAAA,EAAAA,KAACW,EAAAA,GAAI,CAACC,GAAG,YAAWV,SAAC,uGAK/C,C","sources":["components/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../utils/api';\r\nimport './Login.css';\r\n\r\nfunction Login() {\r\n  const [identifier, setIdentifier] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [animate, setAnimate] = useState(false);\r\n  const [fieldAnimations, setFieldAnimations] = useState({\r\n    identifier: false,\r\n    password: false,\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    setAnimate(true);\r\n    setFieldAnimations({\r\n      identifier: false,\r\n      password: false,\r\n    });\r\n\r\n    const timers = [\r\n      setTimeout(() => setFieldAnimations(prev => ({ ...prev, identifier: true })), 100),\r\n      setTimeout(() => setFieldAnimations(prev => ({ ...prev, password: true })), 200),\r\n    ];\r\n\r\n    return () => timers.forEach(clearTimeout);\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await axios.post(`${API_URL}/login`, {\r\n        identifier,\r\n        password,\r\n      });\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      navigate('/');\r\n      setTimeout(() => window.location.reload(), 100);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Помилка сервера');\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleLogin();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <div className={`auth-container ${animate ? 'animate' : ''}`}>\r\n        <h2 className=\"auth-title\">Увійти в аккаунт</h2>\r\n        {error && <p className=\"error\">{error}</p>}\r\n        <label className=\"auth-label\">Нікнейм або пошта</label>\r\n        <input\r\n          type=\"text\"\r\n          value={identifier}\r\n          onChange={(e) => setIdentifier(e.target.value)}\r\n          onKeyPress={handleKeyPress}\r\n          className={`auth-input ${fieldAnimations.identifier ? 'field-animate' : ''}`}\r\n          placeholder=\"Введіть нікнейм або пошту\"\r\n        />\r\n        <label className=\"auth-label\">Пароль</label>\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          onKeyPress={handleKeyPress}\r\n          className={`auth-input ${fieldAnimations.password ? 'field-animate' : ''}`}\r\n          placeholder=\"Введіть пароль\"\r\n        />\r\n        <button onClick={handleLogin} className=\"auth-button\">\r\n          Увійти\r\n        </button>\r\n        <p className=\"auth-switch\">\r\n          Немає аккаунта? <Link to=\"/register\">Створити аккаунт</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"names":["identifier","setIdentifier","useState","password","setPassword","error","setError","animate","setAnimate","fieldAnimations","setFieldAnimations","navigate","useNavigate","useEffect","timers","setTimeout","prev","_objectSpread","forEach","clearTimeout","handleLogin","async","response","axios","post","concat","API_URL","localStorage","setItem","data","token","JSON","stringify","user","window","location","reload","err","_err$response","_err$response$data","handleKeyPress","e","key","_jsx","className","children","_jsxs","type","value","onChange","target","onKeyPress","placeholder","onClick","Link","to"],"sourceRoot":""}