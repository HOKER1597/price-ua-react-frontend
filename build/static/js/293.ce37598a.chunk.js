"use strict";(self.webpackChunkprice_ua=self.webpackChunkprice_ua||[]).push([[293],{1498:()=>{},9293:(e,a,n)=>{n.r(a),n.d(a,{default:()=>c});var s=n(2555),l=n(5043),t=n(9722),i=n(9688),r=(n(1498),n(579));const c=function(){const[e,a]=(0,l.useState)({name:"",logo:null,years_with_us:"",link:""}),[n,c]=(0,l.useState)(null),[o,u]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),[p,h]=(0,l.useState)(!1),g=n=>{const{name:l,value:t}=n.target;a((0,s.A)((0,s.A)({},e),{},{[l]:t}))};return(0,r.jsxs)("div",{className:"admin-product-create animate-page",children:[(0,r.jsx)("h2",{className:"centered-heading",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"}),(0,r.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),h(!0),u(null),m(null),!e.name)return u("\u041d\u0430\u0437\u0432\u0430 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443 \u0454 \u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e\u044e"),void h(!1);const s=new FormData;s.append("name",e.name),e.logo&&s.append("logo",e.logo),s.append("years_with_us",e.years_with_us),s.append("link",e.link);try{const e=localStorage.getItem("token");await t.A.post("".concat(i.H,"/admin/store"),s,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}}),m("\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e!"),a({name:"",logo:null,years_with_us:"",link:""}),c(null)}catch(o){var l,r;u((null===(l=o.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.error)||"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043c\u0430\u0433\u0430\u0437\u0438\u043d. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0434\u0430\u043d\u0456.")}finally{h(!1)}},children:[(0,r.jsxs)("div",{className:"form-group animate-field",children:[(0,r.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443"}),(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:g,required:!0})]}),(0,r.jsxs)("div",{className:"form-group animate-field",children:[(0,r.jsx)("label",{children:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),(0,r.jsx)("input",{type:"file",name:"logo",accept:"image/*",onChange:n=>{const l=n.target.files[0];a((0,s.A)((0,s.A)({},e),{},{logo:l})),c(l?URL.createObjectURL(l):null)}}),n&&(0,r.jsxs)("div",{className:"image-preview",children:[(0,r.jsx)("label",{children:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434"}),(0,r.jsx)("img",{src:n,alt:"Preview"})]})]}),(0,r.jsxs)("div",{className:"form-group animate-field",children:[(0,r.jsx)("label",{children:"\u0420\u043e\u043a\u0438 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456"}),(0,r.jsx)("input",{type:"number",name:"years_with_us",value:e.years_with_us,onChange:g})]}),(0,r.jsxs)("div",{className:"form-group animate-field",children:[(0,r.jsx)("label",{children:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f"}),(0,r.jsx)("input",{type:"text",name:"link",value:e.link,onChange:g})]}),o&&(0,r.jsx)("div",{className:"error-message centered-message",children:o}),d&&(0,r.jsx)("div",{className:"success-message centered-message",children:d}),(0,r.jsx)("button",{type:"submit",className:"save-button animate-field",disabled:p,children:p?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})}}}]);
//# sourceMappingURL=293.ce37598a.chunk.js.map