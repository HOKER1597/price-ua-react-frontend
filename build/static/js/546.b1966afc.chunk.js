"use strict";(self.webpackChunkprice_ua=self.webpackChunkprice_ua||[]).push([[546],{5222:()=>{},8546:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var s=o(2555),a=o(5043),i=o(9002),r=o(9722),n=o(9688),c=o(9896),l=o(9419),d=o(2023),u=o(6036),h=o(3318),m=o(7950),p=o(3536),g=o.n(p),y=(o(5222),o(9409),o(579));function _(e){let{center:t,zoom:o}=e;const s=(0,c.ko)();return(0,a.useEffect)((()=>{s.setView(t,o)}),[t,o,s]),null}const v=function(){const[e,t]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[p,v]=(0,a.useState)([]),[f,x]=(0,a.useState)(""),[S,j]=(0,a.useState)({store_id:"",city_id:"",street:"",house:"",postal_code:"",latitude:null,longitude:null,hours_mon_fri:"",hours_sat:"",hours_sun:""}),[C,N]=(0,a.useState)([]),[b,w]=(0,a.useState)([]),[A,I]=(0,a.useState)(null),[k,H]=(0,a.useState)(null),[K,F]=(0,a.useState)(!1),[q,z]=(0,a.useState)(!1),[E,L]=(0,a.useState)([50.4501,30.5234]),[B,R]=(0,a.useState)(13),P=(0,i.zy)();(0,a.useEffect)((()=>(document.body.style.overflow=q?"hidden":"unset",()=>{document.body.style.overflow="unset"})),[q]),(0,a.useEffect)((()=>{const e=new URLSearchParams(P.search).get("locationId");e&&x(e)}),[P]),(0,a.useEffect)((()=>{(async()=>{try{const e=await r.A.get("".concat(n.H,"/admin/store-locations"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});t(e.data.sort(((e,t)=>e.address.localeCompare(t.address)))),console.log("[fetchLocations] \u041b\u043e\u043a\u0430\u0446\u0456\u0457 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043e:",e.data)}catch(s){var e,o;console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043b\u043e\u043a\u0430\u0446\u0456\u0439:",{message:s.message,status:null===(e=s.response)||void 0===e?void 0:e.status,data:null===(o=s.response)||void 0===o?void 0:o.data}),t([]),I("\u041b\u043e\u043a\u0430\u0446\u0456\u0457 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u0430\u0431\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439.")}})(),(async()=>{try{const e=await r.A.get("".concat(n.H,"/stores"));c(e.data.sort(((e,t)=>e.name.localeCompare(t.name)))),console.log("[fetchStores] \u041c\u0430\u0433\u0430\u0437\u0438\u043d\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043e:",e.data)}catch(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0456\u0432:",e),I("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0438.")}})(),(async()=>{try{const e=await r.A.get("".concat(n.H,"/cities"));v(e.data.sort(((e,t)=>e.name_ua.localeCompare(t.name_ua)))),console.log("[fetchCities] \u041c\u0456\u0441\u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043e:",e.data)}catch(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0456\u0441\u0442:",e),I("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043c\u0456\u0441\u0442\u0430.")}})()}),[]),(0,a.useEffect)((()=>{if(f){(async()=>{try{const e=(await r.A.get("".concat(n.H,"/admin/store-location/").concat(f),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data,t=e.address.split(", "),o=t[1]||"",s=t[2]||"",a=t[3]||"";j({store_id:e.store_id.toString(),city_id:e.city_id.toString(),street:o,house:s,postal_code:a,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),hours_mon_fri:e.hours_mon_fri||"",hours_sat:e.hours_sat||"",hours_sun:e.hours_sun||""}),L([parseFloat(e.latitude),parseFloat(e.longitude)]),R(15),console.log("[fetchLocationDetails] \u0414\u0435\u0442\u0430\u043b\u0456 \u043b\u043e\u043a\u0430\u0446\u0456\u0457 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043e:",e)}catch(o){var e,t;console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u043b\u043e\u043a\u0430\u0446\u0456\u0457:",{message:o.message,status:null===(e=o.response)||void 0===e?void 0:e.status,data:null===(t=o.response)||void 0===t?void 0:t.data}),I("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u043b\u043e\u043a\u0430\u0446\u0456\u0457.")}})()}else j({store_id:"",city_id:"",street:"",house:"",postal_code:"",latitude:null,longitude:null,hours_mon_fri:"",hours_sat:"",hours_sun:""}),L([50.4501,30.5234]),R(13),N([]),w([])}),[f,p]),(0,a.useEffect)((()=>{if(S.city_id&&!f){const e=p.find((e=>e.id.toString()===S.city_id));e&&e.latitude&&e.longitude&&(L([parseFloat(e.latitude),parseFloat(e.longitude)]),R(12),console.log("[MapUpdate] \u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0446\u0435\u043d\u0442\u0440 \u043c\u0430\u043f\u0438 \u0434\u043b\u044f \u043c\u0456\u0441\u0442\u0430:",e.name_ua))}}),[S.city_id,p,f]),(0,a.useEffect)((()=>{(async()=>{if(S.store_id&&S.city_id&&!f){console.log("[Last Hours] Fetching hours for:",{store_id:S.store_id,city_id:S.city_id});try{const e=await r.A.get("".concat(n.H,"/admin/store-location/last-hours"),{params:{store_id:S.store_id,city_id:S.city_id},headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log("[Last Hours] Response:",e.data),j((t=>(0,s.A)((0,s.A)({},t),{},{hours_mon_fri:e.data.hours_mon_fri||"",hours_sat:e.data.hours_sat||"",hours_sun:e.data.hours_sun||""})))}catch(o){var e,t;console.error("[Last Hours] Error fetching hours:",{message:o.message,status:null===(e=o.response)||void 0===e?void 0:e.status,data:null===(t=o.response)||void 0===t?void 0:t.data}),j((e=>(0,s.A)((0,s.A)({},e),{},{hours_mon_fri:"",hours_sat:"",hours_sun:""})))}}})()}),[S.store_id,S.city_id,f]);const U=g().debounce((async(e,t)=>{console.log("[Street Search] Debounced request for query: ".concat(e,", City: ").concat(t.name_ua));try{let o=await r.A.get("https://api.geoapify.com/v1/geocode/autocomplete",{params:{text:"\u0432\u0443\u043b\u0438\u0446\u044f ".concat(e),filter:"rect:30.3,50.3,30.7,50.6",bias:"proximity:".concat(t.longitude,",").concat(t.latitude),type:"street",lang:"uk",apiKey:"324aff0bdde84e2bac50eced8f04c147",limit:20}});console.log("[Street Search] Geoapify API Response (Raw):",o.data),console.log("[Street Search] Geoapify Features:",o.data.features);let s=o.data.features.filter((o=>{const s=o.properties.street,a=(o.properties.street?o.properties.street.replace(/^\u0432\u0443\u043b\u0438\u0446\u044f\s+/i,""):"").toLowerCase().includes(e.toLowerCase()),i=o.properties.city===t.name_ua;return console.log("[Street Search] Geoapify Item: ".concat(o.properties.street||"No street",", City: ").concat(o.properties.city||"No city",", MatchesInput: ").concat(a,", IsCityKyiv: ").concat(i)),s&&a})).map((e=>({name:e.properties.street,lat:e.geometry.coordinates[1],lon:e.geometry.coordinates[0],isCityKyiv:e.properties.city===t.name_ua})));s=g().uniqBy(s,"name").sort(((e,t)=>e.isCityKyiv&&!t.isCityKyiv?-1:!e.isCityKyiv&&t.isCityKyiv?1:0)),console.log("[Street Search] Unique Streets:",s),0===s.length&&(console.log("[Street Search] No results with Geoapify, falling back to Nominatim"),o=await r.A.get("https://nominatim.openstreetmap.org/search",{params:{street:"\u0432\u0443\u043b\u0438\u0446\u044f ".concat(e),city:t.name_ua,country:"Ukraine",format:"json",addressdetails:1,limit:20}}),console.log("[Street Search] Nominatim API Response (Raw):",o.data),s=o.data.filter((o=>{const s=o.address.road,a=(o.address.road?o.address.road.replace(/^\u0432\u0443\u043b\u0438\u0446\u044f\s+/i,""):"").toLowerCase().includes(e.toLowerCase()),i=o.address.city===t.name_ua;return console.log("[Street Search] Nominatim Item: ".concat(o.address.road||"No road",", City: ").concat(o.address.city||"No city",", MatchesInput: ").concat(a,", IsCityKyiv: ").concat(i)),s&&a})).map((e=>({name:e.address.road,lat:e.lat,lon:e.lon,isCityKyiv:e.address.city===t.name_ua}))),s=g().uniqBy(s,"name").sort(((e,t)=>e.isCityKyiv&&!t.isCityKyiv?-1:!e.isCityKyiv&&t.isCityKyiv?1:0)),console.log("[Street Search] Unique Nominatim Streets:",s)),N(s),0===s.length&&console.warn("[Street Search] No streets found for input: ".concat(e,", City: ").concat(t.name_ua))}catch(l){var o,s,a,i,n,c;console.error("[Street Search] Error fetching streets:",{message:l.message,status:null===(o=l.response)||void 0===o?void 0:o.status,data:null===(s=l.response)||void 0===s?void 0:s.data,url:null===(a=l.config)||void 0===a?void 0:a.url,params:null===(i=l.config)||void 0===i?void 0:i.params}),400===(null===(n=l.response)||void 0===n?void 0:n.status)?I("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 \u0437\u0430\u043f\u0438\u0442 \u0434\u043e Geoapify. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438."):401===(null===(c=l.response)||void 0===c?void 0:c.status)&&I("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0430\u0432\u0442\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457 API. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043a\u043b\u044e\u0447\u0456 Geoapify.")}}),300),D=g().debounce((async(e,t,o)=>{console.log("[House Search] Debounced request for house: ".concat(e,", Street: ").concat(t,", City: ").concat(o.name_ua));let s=[];try{const a=await r.A.get("https://nominatim.openstreetmap.org/search",{params:{street:"".concat(e," ").concat(t),city:o.name_ua,country:"Ukraine",format:"json",addressdetails:1,limit:20}});console.log("[House Search] Nominatim API Response (Raw):",a.data),s=a.data.filter((e=>{const s=e.address.house_number,a=e.address.road===t,i=e.address.city===o.name_ua;return console.log("[House Search] Nominatim Item: ".concat(e.address.house_number||"No house_number",", Street: ").concat(e.address.road||"No road",", City: ").concat(e.address.city||"No city",", Postcode: ").concat(e.address.postcode||"No postcode",", MatchesStreet: ").concat(a,", IsCityKyiv: ").concat(i)),s&&a})).map((e=>({name:e.address.house_number,lat:e.lat,lon:e.lon,postcode:e.address.postcode||"",isCityKyiv:e.address.city===o.name_ua}))),s=g().uniqBy(s,"name").sort(((e,t)=>e.isCityKyiv&&!t.isCityKyiv?-1:!e.isCityKyiv&&t.isCityKyiv?1:0)),console.log("[House Search] Unique Nominatim Houses:",s),w(s),0===s.length&&console.warn("[House Search] No houses found for input: ".concat(e,", Street: ").concat(t,", City: ").concat(o.name_ua))}catch(n){var a,i;console.error("[House Search] Nominatim Error:",{message:n.message,status:null===(a=n.response)||void 0===a?void 0:a.status,data:null===(i=n.response)||void 0===i?void 0:i.data}),I("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u043d\u0430\u0439\u0442\u0438 \u043d\u043e\u043c\u0435\u0440\u0438 \u0431\u0443\u0434\u0438\u043d\u043a\u0456\u0432 \u0447\u0435\u0440\u0435\u0437 Nominatim. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0456\u043d\u0448\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f.")}}),300),G=(e,t)=>{const{value:o}=e.target;if(console.log("[handleInputChange] Field: ".concat(t,", Value: ").concat(o)),j((0,s.A)((0,s.A)({},S),{},{[t]:o})),"street"===t&&o.length>=2&&S.city_id){const e=p.find((e=>e.id.toString()===S.city_id));e?(console.log("[Street Search] City found: ".concat(e.name_ua,", ID: ").concat(e.id)),U(o,e)):console.log("[Street Search] No city found for city_id:",S.city_id)}else"street"===t&&(console.log("[Street Search] Clearing suggestions: Input too short or no city selected"),N([]));if("house"===t&&o&&S.street&&S.city_id){const e=p.find((e=>e.id.toString()===S.city_id));e?D(o,S.street,e):(console.log("[House Search] No city found for city_id:",S.city_id),w([]))}else"house"===t&&(console.log("[House Search] Clearing suggestions: No house input or missing street/city"),w([]))},M=()=>{z(!1),I(null)},V=async()=>{F(!0),I(null),H(null);const e=localStorage.getItem("token");try{await r.A.delete("".concat(n.H,"/admin/store-location/").concat(f),{headers:{Authorization:"Bearer ".concat(e)}}),H("\u041b\u043e\u043a\u0430\u0446\u0456\u044e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e!"),x(""),j({store_id:"",city_id:"",street:"",house:"",postal_code:"",latitude:null,longitude:null,hours_mon_fri:"",hours_sat:"",hours_sun:""}),L([50.4501,30.5234]),R(13),z(!1)}catch(i){var t,o,s,a;console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043b\u043e\u043a\u0430\u0446\u0456\u0457:",{message:i.message,status:null===(t=i.response)||void 0===t?void 0:t.status,data:null===(o=i.response)||void 0===o?void 0:o.data}),I((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043b\u043e\u043a\u0430\u0446\u0456\u044e. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}finally{F(!1)}},O=p.find((e=>e.id.toString()===S.city_id)),T=O&&S.street&&S.house&&S.postal_code?"".concat(O.name_ua,", ").concat(S.street,", ").concat(S.house,", ").concat(S.postal_code):"\u0412\u0438\u0431\u0440\u0430\u043d\u0430 \u043b\u043e\u043a\u0430\u0446\u0456\u044f",W=()=>(0,y.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",zIndex:1e4,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid red"},children:(0,y.jsxs)("div",{className:"delete-modal",style:{zIndex:10001},children:[(0,y.jsxs)("p",{children:['\u0412\u0438 \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u044e \u043b\u043e\u043a\u0430\u0446\u0456\u044e "',T,'"?']}),A&&(0,y.jsx)("div",{className:"modal-error",children:A}),(0,y.jsxs)("div",{className:"modal-buttons",children:[(0,y.jsx)("button",{className:"wishlist-modal-confirm-delete-btn",onClick:V,children:"\u0422\u0430\u043a"}),(0,y.jsx)("button",{className:"wishlist-modal-cancel-btn",onClick:M,children:"\u041d\u0456"})]})]})});return(0,y.jsxs)("div",{className:"admin-product-edit animate-page",children:[(0,y.jsx)("h2",{className:"centered-heading",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043b\u043e\u043a\u0430\u0446\u0456\u044e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443"}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!f)return void I("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0456\u044e \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.");if(F(!0),I(null),H(null),!S.store_id||!S.city_id||!S.street||!S.house||!S.postal_code)return I("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u0456 \u043f\u043e\u043b\u044f: \u043c\u0430\u0433\u0430\u0437\u0438\u043d, \u043c\u0456\u0441\u0442\u043e, \u0432\u0443\u043b\u0438\u0446\u044f, \u043d\u043e\u043c\u0435\u0440 \u0431\u0443\u0434\u0438\u043d\u043a\u0443, \u043f\u043e\u0448\u0442\u043e\u0432\u0438\u0439 \u0456\u043d\u0434\u0435\u043a\u0441"),void F(!1);const t=localStorage.getItem("token"),o=p.find((e=>e.id.toString()===S.city_id)),s="".concat(o.name_ua,", ").concat(S.street,", ").concat(S.house,", ").concat(S.postal_code);try{await r.A.put("".concat(n.H,"/admin/store-location/").concat(f),{store_id:S.store_id,city_id:S.city_id,address:s,latitude:S.latitude,longitude:S.longitude,hours_mon_fri:S.hours_mon_fri,hours_sat:S.hours_sat,hours_sun:S.hours_sun},{headers:{Authorization:"Bearer ".concat(t)}}),H("\u041b\u043e\u043a\u0430\u0446\u0456\u044e \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e!")}catch(d){var a,i,c,l;console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043b\u043e\u043a\u0430\u0446\u0456\u0457:",{message:d.message,status:null===(a=d.response)||void 0===a?void 0:a.status,data:null===(i=d.response)||void 0===i?void 0:i.data}),I((null===(c=d.response)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.error)||"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u043b\u043e\u043a\u0430\u0446\u0456\u044e. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0434\u0430\u043d\u0456 \u0430\u0431\u043e \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.")}finally{F(!1)}},children:[(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u041b\u043e\u043a\u0430\u0446\u0456\u044f"}),(0,y.jsxs)("select",{value:f,onChange:e=>x(e.target.value),children:[(0,y.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0456\u044e"}),e.map((e=>(0,y.jsxs)("option",{value:e.id,children:[e.address," (ID: ",e.id,")"]},e.id)))]})]}),(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"}),(0,y.jsxs)("select",{name:"store_id",value:S.store_id,onChange:e=>G(e,"store_id"),required:!0,disabled:0===o.length,children:[(0,y.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0430\u0433\u0430\u0437\u0438\u043d"}),o.map((e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id)))]}),0===o.length&&(0,y.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0456\u0432..."})]}),(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u041c\u0456\u0441\u0442\u043e"}),(0,y.jsxs)("select",{name:"city_id",value:S.city_id,onChange:e=>G(e,"city_id"),required:!0,disabled:0===p.length,children:[(0,y.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e"}),p.map((e=>(0,y.jsx)("option",{value:e.id,children:e.name_ua},e.id)))]}),0===p.length&&(0,y.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043c\u0456\u0441\u0442..."})]}),(0,y.jsxs)("div",{className:"form-group address-form animate-field",children:[(0,y.jsx)("label",{children:"\u0410\u0434\u0440\u0435\u0441\u0430"}),(0,y.jsxs)("div",{className:"address-group",children:[(0,y.jsxs)("div",{className:"input-container",children:[(0,y.jsx)("input",{type:"text",name:"street",value:S.street,onChange:e=>G(e,"street"),placeholder:"\u0412\u0443\u043b\u0438\u0446\u044f",required:!0}),C.length>0&&(0,y.jsx)("div",{className:"suggestions",children:C.map(((e,t)=>(0,y.jsx)("div",{className:"suggestion-item",onClick:()=>{return t=e,console.log("[Street Select] Selected street:",t),j((0,s.A)((0,s.A)({},S),{},{street:t.name,latitude:parseFloat(t.lat),longitude:parseFloat(t.lon),house:"",postal_code:""})),L([parseFloat(t.lat),parseFloat(t.lon)]),R(15),N([]),void w([]);var t},children:e.name},t)))})]}),(0,y.jsxs)("div",{className:"input-container",children:[(0,y.jsx)("input",{type:"text",name:"house",value:S.house,onChange:e=>G(e,"house"),placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0431\u0443\u0434\u0438\u043d\u043a\u0443",required:!0}),b.length>0&&(0,y.jsx)("div",{className:"suggestions",children:b.map(((e,t)=>(0,y.jsx)("div",{className:"suggestion-item",onClick:()=>{return t=e,console.log("[House Select] Selected house:",(0,s.A)((0,s.A)({},t),{},{postcode:t.postcode||"No postcode"})),j((0,s.A)((0,s.A)({},S),{},{house:t.name,latitude:parseFloat(t.lat),longitude:parseFloat(t.lon),postal_code:t.postcode||S.postal_code})),L([parseFloat(t.lat),parseFloat(t.lon)]),R(18),void w([]);var t},children:e.name},t)))})]}),(0,y.jsx)("input",{type:"text",name:"postal_code",value:S.postal_code,onChange:e=>G(e,"postal_code"),placeholder:"\u041f\u043e\u0448\u0442\u043e\u0432\u0438\u0439 \u0456\u043d\u0434\u0435\u043a\u0441",required:!0})]})]}),(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u041c\u0430\u043f\u0430"}),(0,y.jsxs)(l.W,{center:E,zoom:B,style:{height:"400px",width:"100%"},children:[(0,y.jsx)(_,{center:E,zoom:B}),(0,y.jsx)(d.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),S.latitude&&S.longitude&&(0,y.jsx)(u.p,{position:[S.latitude,S.longitude],children:(0,y.jsxs)(h.z,{children:[S.street,", ",S.house]})})]})]}),(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u0427\u0430\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 (\u041f\u041d-\u041f\u0422)"}),(0,y.jsx)("input",{type:"text",name:"hours_mon_fri",value:S.hours_mon_fri,onChange:e=>G(e,"hours_mon_fri"),placeholder:"\u041d\u0430\u043f\u0440. 09:00-18:00"})]}),(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u0427\u0430\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 (\u0421\u0411)"}),(0,y.jsx)("input",{type:"text",name:"hours_sat",value:S.hours_sat,onChange:e=>G(e,"hours_sat"),placeholder:"\u041d\u0430\u043f\u0440. 10:00-16:00"})]}),(0,y.jsxs)("div",{className:"form-group animate-field",children:[(0,y.jsx)("label",{children:"\u0427\u0430\u0441 \u0440\u043e\u0431\u043e\u0442\u0438 (\u041d\u0414)"}),(0,y.jsx)("input",{type:"text",name:"hours_sun",value:S.hours_sun,onChange:e=>G(e,"hours_sun"),placeholder:"\u041d\u0430\u043f\u0440. \u0432\u0438\u0445\u0456\u0434\u043d\u0438\u0439"})]}),A&&(0,y.jsx)("div",{className:"error-message centered-message",children:A}),k&&(0,y.jsx)("div",{className:"success-message centered-message",children:k}),(0,y.jsx)("button",{type:"submit",className:"save-button animate-field",disabled:K||!f,children:K?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),(0,y.jsx)("button",{type:"button",className:"save-button animate-field",style:{backgroundColor:"#ff6f61",marginTop:"10px"},onClick:()=>{f?z(!0):I("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0456\u044e \u0434\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f.")},disabled:!f,children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]}),q&&(0,m.createPortal)((0,y.jsx)(W,{}),document.body)]})}},9409:()=>{}}]);
//# sourceMappingURL=546.b1966afc.chunk.js.map