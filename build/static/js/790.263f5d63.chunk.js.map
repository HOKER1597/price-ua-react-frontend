{"version":3,"file":"static/js/790.263f5d63.chunk.js","mappings":"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","sources":["components/ui/Badge.tsx","components/features/filter/FilterPanel.tsx","components/common/Pagination.tsx","components/ui/Modal.tsx","pages/ProductListPage.tsx","components/ui/Button.tsx","components/common/Breadcrumbs.tsx","components/features/product/ProductCard.tsx","hooks/useProducts.ts"],"sourcesContent":["import React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '../../utils/cn';\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary-50 text-foreground/70 dark:bg-card-dark dark:text-foreground/70',\n        primary: 'bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300',\n        secondary: 'bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300',\n        accent: 'bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300',\n        success: 'bg-success-100 text-success-700 dark:bg-success-900/30 dark:text-success-300',\n        warning: 'bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300',\n        danger: 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300',\n        outline: 'border border-border text-foreground/70',\n        hit: 'bg-red-500 text-white',\n        top: 'bg-primary-500 text-white',\n        premium: 'bg-amber-500 text-white',\n        deal: 'bg-success-500 text-white',\n      },\n      size: {\n        sm: 'px-2 py-0.5 text-xs',\n        md: 'px-2.5 py-0.5 text-xs',\n        lg: 'px-3 py-1 text-sm',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'md',\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, size, ...props }: BadgeProps) {\n  return (\n    <span className={cn(badgeVariants({ variant, size }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n","import React, { useState } from 'react';\nimport { ChevronDown, X, Search, SlidersHorizontal } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { cn } from '../../../utils/cn';\nimport { Button } from '../../ui/Button';\nimport { Badge } from '../../ui/Badge';\nimport type { FilterState, PriceRange } from '../../../types';\nimport { categoryNames } from '../../layout/Header/SearchBar';\n\ninterface FilterPanelProps {\n  filters: {\n    brands: string[];\n    priceRanges: PriceRange[];\n    volumes: string[];\n    types: string[];\n    categories: string[];\n  };\n  selectedFilters: FilterState;\n  onFilterChange: (filterType: keyof FilterState, value: string) => void;\n  onApply: () => void;\n  onReset: () => void;\n  customPriceFrom: string;\n  customPriceTo: string;\n  onCustomPriceChange: (field: 'from' | 'to', value: string) => void;\n  previewCount: number;\n  isSearchPage?: boolean;\n  isMobile?: boolean;\n  onClose?: () => void;\n}\n\ninterface FilterSectionProps {\n  title: string;\n  items: string[];\n  selectedItems: string[];\n  onToggle: (value: string) => void;\n  showSearch?: boolean;\n  maxVisible?: number;\n  renderLabel?: (item: string) => string;\n}\n\nfunction FilterSection({\n  title,\n  items,\n  selectedItems,\n  onToggle,\n  showSearch = false,\n  maxVisible = 8,\n  renderLabel = (item) => item,\n}: FilterSectionProps) {\n  const [isOpen, setIsOpen] = useState(true);\n  const [showAll, setShowAll] = useState(false);\n  const [search, setSearch] = useState('');\n\n  const filteredItems = showSearch\n    ? items.filter((item) => item.toLowerCase().includes(search.toLowerCase()))\n    : items;\n\n  const visibleItems = showAll ? filteredItems : filteredItems.slice(0, maxVisible);\n  const hasMore = filteredItems.length > maxVisible;\n\n  return (\n    <div className=\"border-b border-border py-4\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex w-full items-center justify-between text-left\"\n      >\n        <span className=\"text-sm font-semibold text-foreground\">{title}</span>\n        <ChevronDown\n          className={cn(\n            'h-4 w-4 text-foreground/40 transition-transform',\n            isOpen && 'rotate-180'\n          )}\n        />\n      </button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: 'auto', opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"mt-3 space-y-2\">\n              {showSearch && (\n                <div className=\"relative mb-3\">\n                  <Search className=\"absolute left-2.5 top-1/2 h-4 w-4 -translate-y-1/2 text-foreground/40\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Пошук...\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                    className=\"w-full rounded-lg border border-border bg-surface-light py-2 pl-9 pr-3 text-sm text-foreground placeholder:text-foreground/40 focus:border-primary-500 focus:outline-none dark:bg-surface-dark\"\n                  />\n                </div>\n              )}\n\n              <div className=\"max-h-[200px] space-y-1 overflow-y-auto scrollbar-thin\">\n                {visibleItems.map((item) => (\n                  <label\n                    key={item}\n                    className=\"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-1.5 transition-colors hover:bg-primary-50 dark:hover:bg-primary-900/20\"\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.includes(item)}\n                      onChange={() => onToggle(item)}\n                      className=\"h-4 w-4 rounded border-border text-primary-500 focus:ring-primary-500\"\n                    />\n                    <span className=\"text-sm text-foreground/70\">\n                      {renderLabel(item)}\n                    </span>\n                  </label>\n                ))}\n              </div>\n\n              {hasMore && (\n                <button\n                  onClick={() => setShowAll(!showAll)}\n                  className=\"mt-2 text-xs font-medium text-primary-500 hover:text-primary-600\"\n                >\n                  {showAll ? 'Показати менше' : `Показати ще ${filteredItems.length - maxVisible}`}\n                </button>\n              )}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\nexport function FilterPanel({\n  filters,\n  selectedFilters,\n  onFilterChange,\n  onApply,\n  onReset,\n  customPriceFrom,\n  customPriceTo,\n  onCustomPriceChange,\n  previewCount,\n  isSearchPage = false,\n  isMobile = false,\n  onClose,\n}: FilterPanelProps) {\n  const totalSelected =\n    selectedFilters.brands.length +\n    selectedFilters.priceRanges.length +\n    selectedFilters.volumes.length +\n    selectedFilters.types.length +\n    (isSearchPage ? selectedFilters.categories.length : 0);\n\n  return (\n    <div\n      className={cn(\n        'flex flex-col bg-card-light dark:bg-card-dark',\n        isMobile\n          ? 'fixed inset-0 z-50 overflow-hidden'\n          : 'sticky top-24 h-fit max-h-[calc(100vh-120px)] overflow-y-auto rounded-xl border border-border shadow-card'\n      )}\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between border-b border-border p-4\">\n        <div className=\"flex items-center gap-2\">\n          <SlidersHorizontal className=\"h-5 w-5 text-primary-500\" />\n          <h3 className=\"font-semibold text-foreground\">Фільтри</h3>\n          {totalSelected > 0 && (\n            <Badge variant=\"primary\" size=\"sm\">\n              {totalSelected}\n            </Badge>\n          )}\n        </div>\n        <div className=\"flex items-center gap-2\">\n          {totalSelected > 0 && (\n            <button\n              onClick={onReset}\n              className=\"text-xs text-foreground/50 hover:text-primary-500\"\n            >\n              Скинути\n            </button>\n          )}\n          {isMobile && onClose && (\n            <button onClick={onClose} className=\"rounded-lg p-1 hover:bg-primary-50 dark:hover:bg-primary-900/20\">\n              <X className=\"h-5 w-5\" />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Active Filters */}\n      {totalSelected > 0 && (\n        <div className=\"flex flex-wrap gap-2 border-b border-border p-4\">\n          {selectedFilters.brands.map((brand) => (\n            <Badge key={brand} variant=\"primary\" className=\"gap-1\">\n              {brand}\n              <button onClick={() => onFilterChange('brands', brand)}>\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {selectedFilters.priceRanges.map((range) => (\n            <Badge key={range} variant=\"accent\" className=\"gap-1\">\n              {range} ₴\n              <button onClick={() => onFilterChange('priceRanges', range)}>\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {selectedFilters.volumes.map((volume) => (\n            <Badge key={volume} variant=\"default\" className=\"gap-1\">\n              {volume}\n              <button onClick={() => onFilterChange('volumes', volume)}>\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {selectedFilters.types.map((type) => (\n            <Badge key={type} variant=\"accent\" className=\"gap-1\">\n              {type}\n              <button onClick={() => onFilterChange('types', type)}>\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n        </div>\n      )}\n\n      {/* Filter Sections */}\n      <div className=\"flex-1 overflow-y-auto px-4 scrollbar-thin\">\n        {isSearchPage && filters.categories.length > 0 && (\n          <FilterSection\n            title=\"Категорія\"\n            items={filters.categories}\n            selectedItems={selectedFilters.categories}\n            onToggle={(value) => onFilterChange('categories', value)}\n            renderLabel={(item) => categoryNames[item] || item}\n          />\n        )}\n\n        {filters.brands.length > 0 && (\n          <FilterSection\n            title=\"Бренд\"\n            items={filters.brands}\n            selectedItems={selectedFilters.brands}\n            onToggle={(value) => onFilterChange('brands', value)}\n            showSearch\n            maxVisible={10}\n          />\n        )}\n\n        {/* Price Range */}\n        <div className=\"border-b border-border py-4\">\n          <span className=\"text-sm font-semibold text-foreground\">Ціна (₴)</span>\n          <div className=\"mt-3 flex gap-2\">\n            <input\n              type=\"number\"\n              placeholder=\"Від\"\n              value={customPriceFrom}\n              onChange={(e) => onCustomPriceChange('from', e.target.value)}\n              className=\"w-full rounded-lg border border-border bg-surface-light px-3 py-2 text-sm focus:border-primary-500 focus:outline-none dark:bg-surface-dark dark:text-white\"\n            />\n            <input\n              type=\"number\"\n              placeholder=\"До\"\n              value={customPriceTo}\n              onChange={(e) => onCustomPriceChange('to', e.target.value)}\n              className=\"w-full rounded-lg border border-border bg-surface-light px-3 py-2 text-sm focus:border-primary-500 focus:outline-none dark:bg-surface-dark dark:text-white\"\n            />\n          </div>\n          {filters.priceRanges.length > 0 && (\n            <div className=\"mt-3 flex flex-wrap gap-2\">\n              {filters.priceRanges.map((range) => (\n                <button\n                  key={range.label}\n                  onClick={() => onFilterChange('priceRanges', range.label)}\n                  className={cn(\n                    'rounded-full px-3 py-1 text-xs font-medium transition-colors',\n                    selectedFilters.priceRanges.includes(range.label)\n                      ? 'bg-primary-500 text-white'\n                      : 'bg-primary-50 text-foreground/70 hover:bg-primary-100 dark:bg-card-dark'\n                  )}\n                >\n                  {range.label}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {filters.volumes.length > 0 && (\n          <FilterSection\n            title=\"Об'єм\"\n            items={filters.volumes}\n            selectedItems={selectedFilters.volumes}\n            onToggle={(value) => onFilterChange('volumes', value)}\n          />\n        )}\n\n        {filters.types.length > 0 && (\n          <FilterSection\n            title=\"Тип\"\n            items={filters.types}\n            selectedItems={selectedFilters.types}\n            onToggle={(value) => onFilterChange('types', value)}\n          />\n        )}\n      </div>\n\n      {/* Apply Button */}\n      <div className=\"border-t border-border p-4\">\n        <Button onClick={onApply} className=\"w-full\">\n          Показати товари ({previewCount})\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from 'lucide-react';\nimport { cn } from '../../utils/cn';\n\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n  showLoadMore?: boolean;\n  onLoadMore?: () => void;\n  className?: string;\n}\n\nexport function Pagination({\n  currentPage,\n  totalPages,\n  onPageChange,\n  showLoadMore = false,\n  onLoadMore,\n  className,\n}: PaginationProps) {\n  if (totalPages <= 1) return null;\n\n  const getPageNumbers = () => {\n    const pages: (number | 'ellipsis')[] = [];\n    const showEllipsis = totalPages > 7;\n\n    if (!showEllipsis) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      pages.push(1);\n\n      if (currentPage > 3) {\n        pages.push('ellipsis');\n      }\n\n      const start = Math.max(2, currentPage - 1);\n      const end = Math.min(totalPages - 1, currentPage + 1);\n\n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n\n      if (currentPage < totalPages - 2) {\n        pages.push('ellipsis');\n      }\n\n      pages.push(totalPages);\n    }\n\n    return pages;\n  };\n\n  return (\n    <div className={cn('flex flex-col items-center gap-4', className)}>\n      {/* Load More Button */}\n      {showLoadMore && onLoadMore && currentPage < totalPages && (\n        <button\n          onClick={onLoadMore}\n          className=\"rounded-xl bg-gradient-to-r from-primary-500 to-primary-400 px-8 py-3 font-medium text-white shadow-md transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5\"\n        >\n          Завантажити ще\n        </button>\n      )}\n\n      {/* Page Numbers */}\n      <div className=\"flex items-center gap-1\">\n        <button\n          onClick={() => onPageChange(currentPage - 1)}\n          disabled={currentPage === 1}\n          className={cn(\n            'flex h-10 w-10 items-center justify-center rounded-lg transition-all duration-300',\n            currentPage === 1\n              ? 'cursor-not-allowed text-border'\n              : 'text-foreground/50 hover:bg-primary-50 dark:hover:bg-card-dark'\n          )}\n          aria-label=\"Попередня сторінка\"\n        >\n          <ChevronLeft className=\"h-5 w-5\" />\n        </button>\n\n        {getPageNumbers().map((page, index) =>\n          page === 'ellipsis' ? (\n            <span\n              key={`ellipsis-${index}`}\n              className=\"flex h-10 w-10 items-center justify-center text-foreground/40\"\n            >\n              <MoreHorizontal className=\"h-5 w-5\" />\n            </span>\n          ) : (\n            <button\n              key={page}\n              onClick={() => onPageChange(page)}\n              className={cn(\n                'flex h-10 w-10 items-center justify-center rounded-lg text-sm font-medium transition-all duration-300',\n                currentPage === page\n                  ? 'bg-primary-500 text-white shadow-md'\n                  : 'text-foreground/50 hover:bg-primary-50 dark:hover:bg-card-dark'\n              )}\n            >\n              {page}\n            </button>\n          )\n        )}\n\n        <button\n          onClick={() => onPageChange(currentPage + 1)}\n          disabled={currentPage === totalPages}\n          className={cn(\n            'flex h-10 w-10 items-center justify-center rounded-lg transition-all duration-300',\n            currentPage === totalPages\n              ? 'cursor-not-allowed text-border'\n              : 'text-foreground/50 hover:bg-primary-50 dark:hover:bg-card-dark'\n          )}\n          aria-label=\"Наступна сторінка\"\n        >\n          <ChevronRight className=\"h-5 w-5\" />\n        </button>\n      </div>\n\n      {/* Page Info */}\n      <p className=\"text-sm text-foreground/50\">\n        Сторінка {currentPage} з {totalPages}\n      </p>\n    </div>\n  );\n}\n","import React, { ReactNode } from 'react';\nimport * as Dialog from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\nimport { cn } from '../../utils/cn';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  description?: string;\n  children: ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\n  showCloseButton?: boolean;\n}\n\nconst sizeClasses = {\n  sm: 'max-w-sm',\n  md: 'max-w-md',\n  lg: 'max-w-lg',\n  xl: 'max-w-xl',\n  full: 'max-w-[95vw] max-h-[95vh]',\n};\n\nexport function Modal({\n  isOpen,\n  onClose,\n  title,\n  description,\n  children,\n  size = 'md',\n  showCloseButton = true,\n}: ModalProps) {\n  return (\n    <Dialog.Root open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <AnimatePresence>\n        {isOpen && (\n          <Dialog.Portal forceMount>\n            <Dialog.Overlay asChild>\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n                transition={{ duration: 0.2 }}\n                className=\"fixed inset-0 z-50 bg-surface-dark/60 backdrop-blur-sm\"\n              />\n            </Dialog.Overlay>\n            <Dialog.Content asChild>\n              <motion.div\n                initial={{ opacity: 0, scale: 0.95, y: 20 }}\n                animate={{ opacity: 1, scale: 1, y: 0 }}\n                exit={{ opacity: 0, scale: 0.95, y: 20 }}\n                transition={{ duration: 0.2, ease: 'easeOut' }}\n                className={cn(\n                  'fixed left-1/2 top-1/2 z-50 w-full -translate-x-1/2 -translate-y-1/2 rounded-xl bg-card-light p-6 shadow-elevated dark:bg-card-dark',\n                  sizeClasses[size]\n                )}\n              >\n                {(title || showCloseButton) && (\n                  <div className=\"mb-4 flex items-start justify-between\">\n                    <div>\n                      {title && (\n                        <Dialog.Title className=\"text-lg font-semibold text-foreground\">\n                          {title}\n                        </Dialog.Title>\n                      )}\n                      {description && (\n                        <Dialog.Description className=\"mt-1 text-sm text-foreground/50\">\n                          {description}\n                        </Dialog.Description>\n                      )}\n                    </div>\n                    {showCloseButton && (\n                      <Dialog.Close asChild>\n                        <button\n                          className=\"rounded-lg p-1.5 text-foreground/40 transition-colors hover:bg-primary-50 hover:text-foreground/60 dark:hover:bg-card-dark\"\n                          aria-label=\"Закрити\"\n                        >\n                          <X className=\"h-5 w-5\" />\n                        </button>\n                      </Dialog.Close>\n                    )}\n                  </div>\n                )}\n                {children}\n              </motion.div>\n            </Dialog.Content>\n          </Dialog.Portal>\n        )}\n      </AnimatePresence>\n    </Dialog.Root>\n  );\n}\n\nexport function ModalFooter({ children, className }: { children: ReactNode; className?: string }) {\n  return (\n    <div className={cn('mt-6 flex justify-end gap-3', className)}>\n      {children}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useParams, useLocation, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { SlidersHorizontal, Grid, List, Package, ChevronDown, Heart } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ProductCard } from '../components/features/product/ProductCard';\nimport { FilterPanel } from '../components/features/filter/FilterPanel';\nimport { Pagination } from '../components/common/Pagination';\nimport { Breadcrumbs } from '../components/common/Breadcrumbs';\nimport { FullPageSpinner } from '../components/ui/Spinner';\nimport { Modal, ModalFooter } from '../components/ui/Modal';\nimport { Button } from '../components/ui/Button';\nimport { useProducts, filterProducts, getMinPrice } from '../hooks/useProducts';\nimport { useError } from '../components/ErrorContext';\nimport { categoryNames } from '../components/layout/Header/SearchBar';\nimport { cn } from '../utils/cn';\nimport { API_URL } from '../utils/api';\nimport type { FilterState, Product } from '../types';\n\ninterface ProductListPageProps {\n  searchTerm?: string;\n}\n\nconst PRODUCTS_PER_PAGE = 24;\n\nconst sortOptions = [\n  { value: 'popular', label: 'За популярністю' },\n  { value: 'price_asc', label: 'Ціна: від дешевих' },\n  { value: 'price_desc', label: 'Ціна: від дорогих' },\n  { value: 'rating', label: 'За рейтингом' },\n];\n\nexport default function ProductListPage({ searchTerm }: ProductListPageProps) {\n  const { categoryId } = useParams<{ categoryId?: string }>();\n  const location = useLocation();\n  const { setError } = useError();\n\n  const queryParams = useMemo(() => new URLSearchParams(location.search), [location.search]);\n  const searchQuery = useMemo(\n    () => queryParams.get('query') || queryParams.get('search') || searchTerm || '',\n    [queryParams, searchTerm]\n  );\n  const isSearchPage = location.pathname === '/search';\n\n  // User & Auth\n  const [user] = useState(() => JSON.parse(localStorage.getItem('user') || 'null'));\n  const [token] = useState(() => localStorage.getItem('token') || null);\n  const isAdmin = user?.is_admin;\n\n  // View mode & sorting\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [sortBy, setSortBy] = useState('popular');\n\n  // Fetch products\n  const { allProducts, isLoading, filterOptions } = useProducts({\n    categoryId: isSearchPage ? undefined : categoryId,\n    searchQuery,\n  });\n\n  // Filters\n  const [selectedFilters, setSelectedFilters] = useState<FilterState>({\n    brands: [],\n    priceRanges: [],\n    volumes: [],\n    types: [],\n    categories: [],\n  });\n  const [appliedFilters, setAppliedFilters] = useState<FilterState>({\n    brands: [],\n    priceRanges: [],\n    volumes: [],\n    types: [],\n    categories: [],\n  });\n  const [customPriceFrom, setCustomPriceFrom] = useState('');\n  const [customPriceTo, setCustomPriceTo] = useState('');\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loadedPages, setLoadedPages] = useState(1);\n\n  // UI State\n  const [showMobileFilters, setShowMobileFilters] = useState(false);\n  const [savedProducts, setSavedProducts] = useState<Set<number>>(new Set());\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\n  const [productToDelete, setProductToDelete] = useState<number | null>(null);\n\n  // Filtered & sorted products\n  const filteredProducts = useMemo(() => {\n    let products = [...allProducts];\n\n    if (searchQuery) {\n      products = products.filter((p) =>\n        p.name.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n\n    const customPrice = customPriceFrom && customPriceTo\n      ? { from: parseFloat(customPriceFrom), to: parseFloat(customPriceTo) }\n      : undefined;\n\n    products = filterProducts(products, appliedFilters, customPrice);\n\n    // Sort\n    switch (sortBy) {\n      case 'price_asc':\n        products.sort((a, b) => getMinPrice(a.store_prices) - getMinPrice(b.store_prices));\n        break;\n      case 'price_desc':\n        products.sort((a, b) => getMinPrice(b.store_prices) - getMinPrice(a.store_prices));\n        break;\n      case 'rating':\n        products.sort((a, b) => (Number(b.rating) || 0) - (Number(a.rating) || 0));\n        break;\n    }\n\n    return products;\n  }, [allProducts, appliedFilters, searchQuery, customPriceFrom, customPriceTo, sortBy]);\n\n  // Preview count\n  const previewCount = useMemo(() => {\n    let products = [...allProducts];\n    if (searchQuery) {\n      products = products.filter((p) =>\n        p.name.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n    const customPrice = customPriceFrom && customPriceTo\n      ? { from: parseFloat(customPriceFrom), to: parseFloat(customPriceTo) }\n      : undefined;\n    return filterProducts(products, selectedFilters, customPrice).length;\n  }, [allProducts, selectedFilters, searchQuery, customPriceFrom, customPriceTo]);\n\n  // Paginated products\n  const paginatedProducts = useMemo(() => {\n    const endIndex = loadedPages * PRODUCTS_PER_PAGE;\n    return filteredProducts.slice(0, endIndex);\n  }, [filteredProducts, loadedPages]);\n\n  const totalPages = Math.ceil(filteredProducts.length / PRODUCTS_PER_PAGE);\n\n  // Load saved products\n  useEffect(() => {\n    const loadSavedProducts = async () => {\n      if (!user || !token || allProducts.length === 0) return;\n\n      try {\n        const productIds = allProducts.map((p) => p.id);\n        const response = await axios.post(\n          `${API_URL}/saved-products/bulk`,\n          { productIds },\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n        setSavedProducts(new Set(response.data.savedProductIds || []));\n      } catch (error) {\n        console.error('Error loading saved products:', error);\n      }\n    };\n    loadSavedProducts();\n  }, [allProducts, user, token]);\n\n  // Reset filters on category/search change\n  useEffect(() => {\n    setSelectedFilters({\n      brands: [],\n      priceRanges: [],\n      volumes: [],\n      types: [],\n      categories: [],\n    });\n    setAppliedFilters({\n      brands: [],\n      priceRanges: [],\n      volumes: [],\n      types: [],\n      categories: [],\n    });\n    setCurrentPage(1);\n    setLoadedPages(1);\n  }, [categoryId, searchQuery]);\n\n  // Handlers\n  const handleFilterChange = useCallback((filterType: keyof FilterState, value: string) => {\n    setSelectedFilters((prev) => {\n      const current = prev[filterType];\n      const updated = current.includes(value)\n        ? current.filter((v) => v !== value)\n        : [...current, value];\n      return { ...prev, [filterType]: updated };\n    });\n  }, []);\n\n  const handleApplyFilters = useCallback(() => {\n    setAppliedFilters({ ...selectedFilters });\n    setCurrentPage(1);\n    setLoadedPages(1);\n    setShowMobileFilters(false);\n  }, [selectedFilters]);\n\n  const handleResetFilters = useCallback(() => {\n    const empty: FilterState = {\n      brands: [],\n      priceRanges: [],\n      volumes: [],\n      types: [],\n      categories: [],\n    };\n    setSelectedFilters(empty);\n    setAppliedFilters(empty);\n    setCustomPriceFrom('');\n    setCustomPriceTo('');\n    setCurrentPage(1);\n    setLoadedPages(1);\n  }, []);\n\n  const handlePageChange = useCallback((page: number) => {\n    setCurrentPage(page);\n    setLoadedPages(page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, []);\n\n  const handleLoadMore = useCallback(() => {\n    setLoadedPages((prev) => prev + 1);\n  }, []);\n\n  const handleHeartClick = useCallback(async (productId: number, e: React.MouseEvent) => {\n    e.preventDefault();\n    if (!user || !token) {\n      setError('Увійдіть в аккаунт, щоб додати до бажаного.');\n      return;\n    }\n\n    const isSaved = savedProducts.has(productId);\n    setSavedProducts((prev) => {\n      const next = new Set(prev);\n      if (isSaved) next.delete(productId);\n      else next.add(productId);\n      return next;\n    });\n\n    try {\n      if (isSaved) {\n        await axios.delete(`${API_URL}/saved-products/${productId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n      } else {\n        await axios.post(\n          `${API_URL}/saved-products`,\n          { productId },\n          { headers: { Authorization: `Bearer ${token}` } }\n        );\n      }\n    } catch (error) {\n      setSavedProducts((prev) => {\n        const next = new Set(prev);\n        if (isSaved) next.add(productId);\n        else next.delete(productId);\n        return next;\n      });\n      setError('Не вдалося оновити бажане');\n    }\n  }, [user, token, savedProducts, setError]);\n\n  const handleDeleteClick = useCallback((productId: number, e: React.MouseEvent) => {\n    e.preventDefault();\n    setProductToDelete(productId);\n    setDeleteModalOpen(true);\n  }, []);\n\n  const handleDeleteConfirm = useCallback(async () => {\n    if (!productToDelete || !token) return;\n\n    try {\n      await axios.delete(`${API_URL}/admin/product/${productToDelete}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      window.location.reload();\n    } catch (error) {\n      setError('Не вдалося видалити товар');\n    } finally {\n      setDeleteModalOpen(false);\n      setProductToDelete(null);\n    }\n  }, [productToDelete, token, setError]);\n\n  if (isLoading) {\n    return <FullPageSpinner />;\n  }\n\n  const pageTitle = categoryId && !isSearchPage\n    ? categoryNames[categoryId] || 'Товари категорії'\n    : searchQuery\n      ? `Результати пошуку: \"${searchQuery}\"`\n      : 'Усі товари';\n\n  // Breadcrumb items\n  const breadcrumbItems = [\n    ...(categoryId && !isSearchPage\n      ? [{ label: pageTitle }]\n      : searchQuery\n        ? [{ label: `Пошук: \"${searchQuery}\"` }]\n        : [{ label: 'Усі товари' }]\n    ),\n  ];\n\n  return (\n    <div className=\"container-main py-6 lg:py-8\">\n      {/* Breadcrumbs */}\n      <Breadcrumbs items={breadcrumbItems} className=\"mb-4\" />\n\n      {/* Header + Toolbar */}\n      <div className=\"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"font-serif text-2xl font-bold text-foreground lg:text-3xl\">\n            {pageTitle}\n          </h1>\n          <p className=\"mt-1 text-sm text-foreground/50\">\n            Знайдено {filteredProducts.length} товарів\n          </p>\n        </div>\n\n        {/* Toolbar */}\n        <div className=\"flex items-center gap-2\">\n          {/* Sort dropdown */}\n          <div className=\"relative\">\n            <select\n              value={sortBy}\n              onChange={(e) => setSortBy(e.target.value)}\n              className=\"appearance-none rounded-lg border border-border bg-card-light py-2 pl-3 pr-8 text-sm text-foreground/70 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500/20 dark:bg-card-dark\"\n            >\n              {sortOptions.map((opt) => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n              ))}\n            </select>\n            <ChevronDown className=\"pointer-events-none absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-foreground/40\" />\n          </div>\n\n          {/* View toggle */}\n          <div className=\"hidden items-center rounded-lg border border-border sm:flex\">\n            <button\n              onClick={() => setViewMode('grid')}\n              className={cn(\n                'rounded-l-lg p-2 transition-colors',\n                viewMode === 'grid'\n                  ? 'bg-primary-500 text-white'\n                  : 'text-foreground/50 hover:bg-primary-50 dark:hover:bg-primary-900/20'\n              )}\n            >\n              <Grid className=\"h-4 w-4\" />\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={cn(\n                'rounded-r-lg p-2 transition-colors',\n                viewMode === 'list'\n                  ? 'bg-primary-500 text-white'\n                  : 'text-foreground/50 hover:bg-primary-50 dark:hover:bg-primary-900/20'\n              )}\n            >\n              <List className=\"h-4 w-4\" />\n            </button>\n          </div>\n\n          {/* Mobile Filter Button */}\n          <button\n            onClick={() => setShowMobileFilters(true)}\n            className=\"flex items-center gap-2 rounded-lg border border-border bg-card-light px-4 py-2 text-sm font-medium text-foreground/70 shadow-sm transition-colors hover:bg-primary-50 dark:bg-card-dark lg:hidden\"\n          >\n            <SlidersHorizontal className=\"h-4 w-4\" />\n            Фільтри\n            {(appliedFilters.brands.length > 0 ||\n              appliedFilters.priceRanges.length > 0 ||\n              appliedFilters.volumes.length > 0 ||\n              appliedFilters.types.length > 0) && (\n              <span className=\"rounded-full bg-primary-500 px-2 py-0.5 text-xs text-white\">\n                {appliedFilters.brands.length +\n                  appliedFilters.priceRanges.length +\n                  appliedFilters.volumes.length +\n                  appliedFilters.types.length}\n              </span>\n            )}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex gap-6\">\n        {/* Desktop Filter Panel */}\n        <aside className=\"hidden w-72 shrink-0 lg:block\">\n          <FilterPanel\n            filters={filterOptions}\n            selectedFilters={selectedFilters}\n            onFilterChange={handleFilterChange}\n            onApply={handleApplyFilters}\n            onReset={handleResetFilters}\n            customPriceFrom={customPriceFrom}\n            customPriceTo={customPriceTo}\n            onCustomPriceChange={(field, value) =>\n              field === 'from' ? setCustomPriceFrom(value) : setCustomPriceTo(value)\n            }\n            previewCount={previewCount}\n            isSearchPage={isSearchPage}\n          />\n        </aside>\n\n        {/* Products Grid/List */}\n        <main className=\"flex-1\">\n          {paginatedProducts.length > 0 ? (\n            <>\n              <div className={cn(\n                viewMode === 'grid'\n                  ? 'grid grid-cols-1 gap-4 xs:grid-cols-2 md:grid-cols-3 xl:grid-cols-3'\n                  : 'flex flex-col gap-4'\n              )}>\n                {paginatedProducts.map((product, index) => (\n                  viewMode === 'list' ? (\n                    <ProductCardList\n                      key={product.id}\n                      product={product}\n                      isSaved={savedProducts.has(product.id)}\n                      isAdmin={isAdmin}\n                      onHeartClick={handleHeartClick}\n                      index={index}\n                    />\n                  ) : (\n                    <ProductCard\n                      key={product.id}\n                      product={product}\n                      isSaved={savedProducts.has(product.id)}\n                      isAdmin={isAdmin}\n                      onHeartClick={handleHeartClick}\n                      onDeleteClick={handleDeleteClick}\n                      index={index}\n                    />\n                  )\n                ))}\n              </div>\n\n              {/* Pagination */}\n              <Pagination\n                currentPage={currentPage}\n                totalPages={totalPages}\n                onPageChange={handlePageChange}\n                showLoadMore={loadedPages < totalPages}\n                onLoadMore={handleLoadMore}\n                className=\"mt-8\"\n              />\n            </>\n          ) : (\n            <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n              <Package className=\"mb-4 h-16 w-16 text-border\" />\n              <h3 className=\"text-lg font-medium text-foreground\">\n                Товари не знайдено\n              </h3>\n              <p className=\"mt-1 text-sm text-foreground/50\">\n                Спробуйте змінити параметри фільтрації\n              </p>\n              {(appliedFilters.brands.length > 0 ||\n                appliedFilters.priceRanges.length > 0) && (\n                <Button variant=\"outline\" onClick={handleResetFilters} className=\"mt-4\">\n                  Скинути фільтри\n                </Button>\n              )}\n            </div>\n          )}\n        </main>\n      </div>\n\n      {/* Mobile Filter Panel */}\n      <AnimatePresence>\n        {showMobileFilters && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 z-50 bg-black/50 lg:hidden\"\n            onClick={() => setShowMobileFilters(false)}\n          >\n            <motion.div\n              initial={{ x: '-100%' }}\n              animate={{ x: 0 }}\n              exit={{ x: '-100%' }}\n              transition={{ type: 'tween', duration: 0.3 }}\n              className=\"absolute inset-y-0 left-0 w-full max-w-sm\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <FilterPanel\n                filters={filterOptions}\n                selectedFilters={selectedFilters}\n                onFilterChange={handleFilterChange}\n                onApply={handleApplyFilters}\n                onReset={handleResetFilters}\n                customPriceFrom={customPriceFrom}\n                customPriceTo={customPriceTo}\n                onCustomPriceChange={(field, value) =>\n                  field === 'from' ? setCustomPriceFrom(value) : setCustomPriceTo(value)\n                }\n                previewCount={previewCount}\n                isSearchPage={isSearchPage}\n                isMobile\n                onClose={() => setShowMobileFilters(false)}\n              />\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Delete Modal */}\n      <Modal\n        isOpen={deleteModalOpen}\n        onClose={() => setDeleteModalOpen(false)}\n        title=\"Видалити товар?\"\n        description=\"Ця дія незворотня. Товар буде видалено назавжди.\"\n      >\n        <ModalFooter>\n          <Button variant=\"ghost\" onClick={() => setDeleteModalOpen(false)}>\n            Скасувати\n          </Button>\n          <Button variant=\"danger\" onClick={handleDeleteConfirm}>\n            Видалити\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n}\n\n// Inline list card variant\nfunction ProductCardList({\n  product,\n  isSaved,\n  isAdmin,\n  onHeartClick,\n  index,\n}: {\n  product: Product;\n  isSaved: boolean;\n  isAdmin: boolean;\n  onHeartClick: (id: number, e: React.MouseEvent) => void;\n  index: number;\n}) {\n  const [imageError, setImageError] = useState(false);\n  const minPrice = getMinPrice(product.store_prices);\n  const storeCount = product.store_prices?.length || 0;\n  const imageUrl = !imageError && product.images?.[0] ? product.images[0] : '/img/placeholder.webp';\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, x: -20 }}\n      animate={{ opacity: 1, x: 0 }}\n      transition={{ duration: 0.3, delay: index * 0.03 }}\n    >\n      <Link\n        to={`/product/${product.id}`}\n        className=\"flex gap-4 rounded-xl border border-border bg-card-light p-3 shadow-card transition-all duration-300 hover:shadow-card-hover dark:bg-card-dark\"\n      >\n        <div className=\"h-32 w-32 flex-shrink-0 overflow-hidden rounded-lg bg-surface-light dark:bg-card-dark\">\n          <img\n            src={imageUrl}\n            alt={product.name}\n            className=\"h-full w-full object-cover\"\n            onError={() => setImageError(true)}\n            loading=\"lazy\"\n          />\n        </div>\n        <div className=\"flex flex-1 flex-col justify-between py-1\">\n          <div>\n            {product.brand_name && (\n              <span className=\"text-xs font-medium text-primary-500\">{product.brand_name}</span>\n            )}\n            <h3 className=\"line-clamp-2 text-sm font-medium text-foreground\">{product.name}</h3>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              {minPrice > 0 ? (\n                <span className=\"text-lg font-bold text-success-500\">{minPrice} ₴</span>\n              ) : (\n                <span className=\"text-sm text-foreground/40\">Ціна не вказана</span>\n              )}\n              {storeCount > 0 && (\n                <span className=\"ml-2 text-xs text-foreground/40\">\n                  {storeCount} {storeCount === 1 ? 'магазин' : 'магазинів'}\n                </span>\n              )}\n            </div>\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                onHeartClick(product.id, e);\n              }}\n              className={cn(\n                'rounded-full p-2 transition-colors',\n                isSaved ? 'text-error-500' : 'text-foreground/30 hover:text-error-500'\n              )}\n            >\n              <Heart className={cn('h-5 w-5', isSaved && 'fill-current')} />\n            </button>\n          </div>\n        </div>\n      </Link>\n    </motion.div>\n  );\n}\n","import React, { forwardRef, ButtonHTMLAttributes } from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '../../utils/cn';\nimport { Loader2 } from 'lucide-react';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]',\n  {\n    variants: {\n      variant: {\n        primary: 'bg-primary-500 text-white shadow-md hover:bg-primary-600 hover:shadow-lg focus-visible:ring-primary-500',\n        secondary: 'bg-primary-100 text-primary-700 shadow-sm hover:bg-primary-200 hover:shadow-md focus-visible:ring-primary-500 dark:bg-primary-900/30 dark:text-primary-300 dark:hover:bg-primary-900/50',\n        accent: 'bg-primary-500 text-white shadow-md hover:bg-primary-600 hover:shadow-lg focus-visible:ring-primary-500',\n        outline: 'border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 focus-visible:ring-primary-500',\n        ghost: 'text-foreground/70 hover:bg-primary-50 dark:hover:bg-card-dark focus-visible:ring-primary-500',\n        link: 'text-primary-500 underline-offset-4 hover:underline focus-visible:ring-primary-500',\n        danger: 'bg-error-500 text-white shadow-md hover:bg-error-600 hover:shadow-lg focus-visible:ring-error-500',\n        success: 'bg-success-500 text-white shadow-md hover:bg-success-600 hover:shadow-lg focus-visible:ring-success-500',\n      },\n      size: {\n        xs: 'h-7 px-2 text-xs rounded-md',\n        sm: 'h-8 px-3 text-xs',\n        md: 'h-10 px-4',\n        lg: 'h-12 px-6 text-base',\n        xl: 'h-14 px-8 text-lg',\n        icon: 'h-10 w-10',\n        'icon-sm': 'h-8 w-8',\n        'icon-lg': 'h-12 w-12',\n      },\n    },\n    defaultVariants: {\n      variant: 'primary',\n      size: 'md',\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  isLoading?: boolean;\n  leftIcon?: React.ReactNode;\n  rightIcon?: React.ReactNode;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, isLoading, leftIcon, rightIcon, children, disabled, ...props }, ref) => {\n    return (\n      <button\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <Loader2 className=\"h-4 w-4 animate-spin\" />\n        ) : leftIcon ? (\n          leftIcon\n        ) : null}\n        {children}\n        {!isLoading && rightIcon}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ChevronRight, Home } from 'lucide-react';\nimport { cn } from '../../utils/cn';\n\ninterface BreadcrumbItem {\n  label: string;\n  href?: string;\n}\n\ninterface BreadcrumbsProps {\n  items: BreadcrumbItem[];\n  className?: string;\n}\n\nexport function Breadcrumbs({ items, className }: BreadcrumbsProps) {\n  return (\n    <nav className={cn('flex items-center gap-1.5 text-sm', className)} aria-label=\"Breadcrumb\">\n      <Link\n        to=\"/\"\n        className=\"flex items-center text-foreground/40 transition-colors hover:text-primary-500\"\n      >\n        <Home className=\"h-4 w-4\" />\n      </Link>\n\n      {items.map((item, index) => (\n        <React.Fragment key={index}>\n          <ChevronRight className=\"h-3.5 w-3.5 text-foreground/30\" />\n          {item.href ? (\n            <Link\n              to={item.href}\n              className=\"text-foreground/50 transition-colors hover:text-primary-500\"\n            >\n              {item.label}\n            </Link>\n          ) : (\n            <span className=\"text-foreground/70 font-medium\">{item.label}</span>\n          )}\n        </React.Fragment>\n      ))}\n    </nav>\n  );\n}\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Heart, Trash2, Edit, Store, Star } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { cn } from '../../../utils/cn';\nimport type { Product } from '../../../types';\nimport { getMinPrice, getMaxPrice, getStoreCount } from '../../../hooks/useProducts';\n\ninterface ProductCardProps {\n  product: Product;\n  isSaved?: boolean;\n  isAdmin?: boolean;\n  onHeartClick?: (productId: number, e: React.MouseEvent) => void;\n  onDeleteClick?: (productId: number, e: React.MouseEvent) => void;\n  index?: number;\n}\n\nfunction getProductBadge(product: Product): { label: string; variant: string } | null {\n  const rating = Number(product.rating) || 0;\n  const storeCount = getStoreCount(product.store_prices);\n\n  if (rating >= 4.5) return { label: 'Топ продажів', variant: 'bg-primary-500 text-white' };\n  if (storeCount >= 8) return { label: 'Хіт', variant: 'bg-red-500 text-white' };\n  if (product.brand_name && ['MAC', 'Chanel', 'Dior', 'Estée Lauder'].includes(product.brand_name)) {\n    return { label: 'Преміум', variant: 'bg-amber-500 text-white' };\n  }\n  const minPrice = getMinPrice(product.store_prices);\n  const maxPrice = getMaxPrice(product.store_prices);\n  if (maxPrice > 0 && minPrice > 0 && (maxPrice - minPrice) / maxPrice > 0.2) {\n    return { label: 'Вигідно', variant: 'bg-success-500 text-white' };\n  }\n  return null;\n}\n\nexport function ProductCard({\n  product,\n  isSaved = false,\n  isAdmin = false,\n  onHeartClick,\n  onDeleteClick,\n  index = 0,\n}: ProductCardProps) {\n  const [imageError, setImageError] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n\n  const minPrice = getMinPrice(product.store_prices);\n  const maxPrice = getMaxPrice(product.store_prices);\n  const storeCount = getStoreCount(product.store_prices);\n  const rating = Number(product.rating) || 0;\n  const reviewCount = Number(product.review_count) || 0;\n  const imageUrl = !imageError && product.images?.[0]\n    ? product.images[0]\n    : '/img/placeholder.webp';\n  const badge = getProductBadge(product);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3, delay: index * 0.05 }}\n      className=\"group relative h-full\"\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      <Link\n        to={`/product/${product.id}`}\n        className=\"flex h-full flex-col overflow-hidden rounded-xl border border-border bg-card-light shadow-card transition-all duration-300 hover:shadow-card-hover hover:-translate-y-1 dark:bg-card-dark\"\n      >\n        {/* Image Container */}\n        <div className=\"relative aspect-square overflow-hidden bg-surface-light dark:bg-card-dark\">\n          <img\n            src={imageUrl}\n            alt={product.name}\n            className=\"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105\"\n            onError={() => setImageError(true)}\n            loading=\"lazy\"\n          />\n\n          {/* Badge top-left */}\n          {badge && (\n            <span className={cn('absolute left-3 top-3 rounded-full px-2.5 py-1 text-xs font-medium', badge.variant)}>\n              {badge.label}\n            </span>\n          )}\n\n          {/* Heart Button top-right */}\n          <motion.button\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: isHovered || isSaved ? 1 : 0, scale: 1 }}\n            whileHover={{ scale: 1.1 }}\n            whileTap={{ scale: 0.9 }}\n            onClick={(e) => {\n              e.preventDefault();\n              onHeartClick?.(product.id, e);\n            }}\n            className={cn(\n              'absolute right-3 top-3 min-h-[44px] min-w-[44px] rounded-full p-2.5 shadow-md transition-all duration-200',\n              isSaved\n                ? 'bg-error-500 text-white'\n                : 'bg-card-light/90 text-foreground/50 hover:text-error-500 dark:bg-card-dark/90'\n            )}\n          >\n            <Heart className={cn('h-5 w-5', isSaved && 'fill-current')} />\n          </motion.button>\n\n          {/* Admin Delete Button */}\n          {isAdmin && (\n            <motion.button\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: isHovered ? 1 : 0, scale: 1 }}\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.9 }}\n              onClick={(e) => {\n                e.preventDefault();\n                onDeleteClick?.(product.id, e);\n              }}\n              className=\"absolute left-3 bottom-3 rounded-full bg-error-500 p-2 text-white shadow-md transition-all duration-200 hover:bg-error-600\"\n            >\n              <Trash2 className=\"h-4 w-4\" />\n            </motion.button>\n          )}\n        </div>\n\n        {/* Content */}\n        <div className=\"flex flex-1 flex-col p-4\">\n          {/* Brand + Volume */}\n          <div className=\"mb-1 flex items-center gap-2\">\n            {product.brand_name && (\n              <span className=\"text-xs font-medium text-primary-500\">{product.brand_name}</span>\n            )}\n            {product.volume && (\n              <span className=\"text-xs text-foreground/40\">{product.volume}</span>\n            )}\n          </div>\n\n          {/* Name */}\n          <h3 className=\"mb-1.5 line-clamp-2 text-sm font-medium text-foreground transition-colors group-hover:text-primary-500\">\n            {product.name}\n          </h3>\n\n          {/* Rating */}\n          {rating > 0 && (\n            <div className=\"mb-2 flex items-center gap-1 text-xs text-foreground/50\">\n              <Star className=\"h-3.5 w-3.5 fill-amber-400 text-amber-400\" />\n              <span className=\"font-medium text-foreground/70\">{rating.toFixed(1)}</span>\n              {reviewCount > 0 && <span>({reviewCount} відгуків)</span>}\n            </div>\n          )}\n\n          {/* Divider */}\n          <div className=\"mb-2 border-t border-border\" />\n\n          {/* Price range */}\n          <div className=\"mb-1.5\">\n            {minPrice > 0 ? (\n              <div className=\"flex items-baseline gap-2\">\n                <span className=\"text-lg font-bold text-success-500\">\n                  {minPrice} ₴\n                </span>\n                {maxPrice > minPrice && (\n                  <span className=\"text-sm text-foreground/40 line-through\">\n                    {maxPrice} ₴\n                  </span>\n                )}\n              </div>\n            ) : (\n              <span className=\"text-sm text-foreground/40\">Ціна не вказана</span>\n            )}\n          </div>\n\n          {/* Store count */}\n          {storeCount > 0 && (\n            <div className=\"mb-3 flex items-center gap-1.5 text-xs text-foreground/50\">\n              <Store className=\"h-3.5 w-3.5\" />\n              <span>\n                🏪 {storeCount} {storeCount === 1 ? 'магазин' : storeCount < 5 ? 'магазини' : 'магазинів'}\n              </span>\n            </div>\n          )}\n\n          {/* Compare button */}\n          <div className=\"mt-auto rounded-lg border border-primary-500/30 py-1.5 text-center text-xs font-medium text-primary-500 transition-colors group-hover:bg-primary-50 dark:group-hover:bg-primary-900/20\">\n            Порівняти\n          </div>\n        </div>\n      </Link>\n\n      {/* Admin Edit Link */}\n      {isAdmin && (\n        <Link\n          to={`/admin/product-edit?id=${product.id}`}\n          className=\"absolute bottom-3 right-3 rounded-full bg-primary-500 p-2 text-white opacity-0 shadow-md transition-all duration-200 hover:bg-primary-600 group-hover:opacity-100\"\n        >\n          <Edit className=\"h-4 w-4\" />\n        </Link>\n      )}\n    </motion.div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport type { Product, FilterState, PriceRange } from '../types';\nimport { API_URL } from '../utils/api';\n\nexport interface UseProductsParams {\n  categoryId?: string;\n  searchQuery?: string;\n  page?: number;\n  limit?: number;\n}\n\nexport interface FilterOptions {\n  brands: string[];\n  priceRanges: PriceRange[];\n  volumes: string[];\n  types: string[];\n  categories: string[];\n}\n\nexport function useProducts({ categoryId, searchQuery, page = 1, limit = 24 }: UseProductsParams) {\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [filterOptions, setFilterOptions] = useState<FilterOptions>({\n    brands: [],\n    priceRanges: [],\n    volumes: [],\n    types: [],\n    categories: [],\n  });\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      setIsLoading(true);\n      setError(null);\n      try {\n        const response = await axios.get(`${API_URL}/products`, {\n          params: {\n            search: searchQuery || undefined,\n            category: categoryId || undefined,\n            limit: 1000,\n          },\n        });\n\n        const products: Product[] = response.data.products || [];\n        setAllProducts(products);\n\n        // Calculate filter options\n        const brandCounts: Record<string, number> = {};\n        const typeCounts: Record<string, number> = {};\n        const categoryCounts: Record<string, number> = {};\n        const volumes = new Set<string>();\n        const priceBuckets = new Set<string>();\n\n        products.forEach((product) => {\n          const brand = product.brand_name || '';\n          const type = (product as any).feature_type || '';\n          const category = product.category_name || '';\n          const volume = product.volume || '';\n          const minPrice = getMinPrice(product.store_prices);\n\n          if (brand) brandCounts[brand] = (brandCounts[brand] || 0) + 1;\n          if (type) typeCounts[type] = (typeCounts[type] || 0) + 1;\n          if (category) categoryCounts[category] = (categoryCounts[category] || 0) + 1;\n          if (volume) volumes.add(volume);\n\n          if (minPrice > 0) {\n            if (minPrice <= 100) priceBuckets.add('0-100');\n            else if (minPrice <= 200) priceBuckets.add('100-200');\n            else if (minPrice <= 500) priceBuckets.add('200-500');\n            else if (minPrice <= 1000) priceBuckets.add('500-1000');\n            else priceBuckets.add('1000+');\n          }\n        });\n\n        const allBrands = Object.entries(brandCounts)\n          .sort((a, b) => b[1] - a[1])\n          .map(([brand]) => brand);\n\n        const allTypes = Object.entries(typeCounts)\n          .sort((a, b) => b[1] - a[1])\n          .map(([type]) => type);\n\n        const allCategories = Object.entries(categoryCounts)\n          .sort((a, b) => b[1] - a[1])\n          .map(([cat]) => cat);\n\n        const priceRanges: PriceRange[] = [\n          { label: '0-100', min: 0, max: 100 },\n          { label: '100-200', min: 100, max: 200 },\n          { label: '200-500', min: 200, max: 500 },\n          { label: '500-1000', min: 500, max: 1000 },\n          { label: '1000+', min: 1000, max: Infinity },\n        ].filter((range) => priceBuckets.has(range.label));\n\n        const sortedVolumes = [...volumes].sort((a, b) => {\n          const numA = parseFloat(a.replace(/[^0-9.]/g, '')) || 0;\n          const numB = parseFloat(b.replace(/[^0-9.]/g, '')) || 0;\n          return numA - numB;\n        });\n\n        setFilterOptions({\n          brands: allBrands,\n          priceRanges,\n          volumes: sortedVolumes,\n          types: allTypes,\n          categories: allCategories,\n        });\n      } catch (err: any) {\n        setError(err.message || 'Помилка завантаження товарів');\n        setAllProducts([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [categoryId, searchQuery]);\n\n  return { allProducts, isLoading, error, filterOptions };\n}\n\nexport function getMinPrice(storePrices?: { price: number }[]): number {\n  if (!storePrices || storePrices.length === 0) return 0;\n  return Math.min(...storePrices.map((sp) => sp.price));\n}\n\nexport function getMaxPrice(storePrices?: { price: number }[]): number {\n  if (!storePrices || storePrices.length === 0) return 0;\n  return Math.max(...storePrices.map((sp) => sp.price));\n}\n\nexport function getStoreCount(storePrices?: { price: number }[]): number {\n  if (!storePrices) return 0;\n  return storePrices.length;\n}\n\nexport function filterProducts(\n  products: Product[],\n  filters: FilterState,\n  customPriceRange?: { from: number; to: number }\n): Product[] {\n  let filtered = [...products];\n\n  if (filters.brands.length > 0) {\n    filtered = filtered.filter((p) => filters.brands.includes(p.brand_name || ''));\n  }\n\n  if (customPriceRange && customPriceRange.from >= 0 && customPriceRange.to > 0) {\n    filtered = filtered.filter((p) => {\n      const minPrice = getMinPrice(p.store_prices);\n      return minPrice >= customPriceRange.from && minPrice <= customPriceRange.to;\n    });\n  } else if (filters.priceRanges.length > 0) {\n    filtered = filtered.filter((p) => {\n      const minPrice = getMinPrice(p.store_prices);\n      return filters.priceRanges.some((range) => {\n        const [min, max] = range.includes('+')\n          ? [1000, Infinity]\n          : range.split('-').map(Number);\n        return minPrice >= min && (max === Infinity || minPrice <= max);\n      });\n    });\n  }\n\n  if (filters.volumes.length > 0) {\n    filtered = filtered.filter((p) => filters.volumes.includes(p.volume || ''));\n  }\n\n  if (filters.types.length > 0) {\n    filtered = filtered.filter((p) => filters.types.includes((p as any).feature_type || ''));\n  }\n\n  if (filters.categories.length > 0) {\n    filtered = filtered.filter((p) => filters.categories.includes(p.category_name || ''));\n  }\n\n  return filtered;\n}\n"],"names":["badgeVariants","cva","variants","variant","default","primary","secondary","accent","success","warning","danger","outline","hit","top","premium","deal","size","sm","md","lg","defaultVariants","Badge","_ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","FilterSection","title","items","selectedItems","onToggle","showSearch","maxVisible","renderLabel","item","isOpen","setIsOpen","useState","showAll","setShowAll","search","setSearch","filteredItems","filter","toLowerCase","includes","visibleItems","slice","hasMore","length","_jsxs","children","onClick","ChevronDown","AnimatePresence","motion","div","initial","height","opacity","animate","exit","transition","duration","Search","type","placeholder","value","onChange","e","target","map","checked","concat","FilterPanel","_ref2","filters","selectedFilters","onFilterChange","onApply","onReset","customPriceFrom","customPriceTo","onCustomPriceChange","previewCount","isSearchPage","isMobile","onClose","totalSelected","brands","priceRanges","volumes","types","categories","SlidersHorizontal","X","brand","range","volume","categoryNames","label","Button","Pagination","currentPage","totalPages","onPageChange","showLoadMore","onLoadMore","disabled","ChevronLeft","getPageNumbers","pages","push","start","Math","max","end","min","i","page","index","MoreHorizontal","ChevronRight","sizeClasses","xl","full","Modal","description","showCloseButton","Dialog","open","onOpenChange","forceMount","asChild","scale","y","ease","ModalFooter","PRODUCTS_PER_PAGE","sortOptions","ProductListPage","searchTerm","categoryId","useParams","location","useLocation","setError","useError","queryParams","useMemo","URLSearchParams","searchQuery","get","pathname","user","JSON","parse","localStorage","getItem","token","isAdmin","is_admin","viewMode","setViewMode","sortBy","setSortBy","allProducts","isLoading","filterOptions","useProducts","undefined","setSelectedFilters","appliedFilters","setAppliedFilters","setCustomPriceFrom","setCustomPriceTo","setCurrentPage","loadedPages","setLoadedPages","showMobileFilters","setShowMobileFilters","savedProducts","setSavedProducts","Set","deleteModalOpen","setDeleteModalOpen","productToDelete","setProductToDelete","filteredProducts","products","p","name","customPrice","from","parseFloat","to","filterProducts","sort","a","b","getMinPrice","store_prices","Number","rating","paginatedProducts","endIndex","ceil","useEffect","async","productIds","id","response","axios","post","API_URL","headers","Authorization","data","savedProductIds","error","console","loadSavedProducts","handleFilterChange","useCallback","filterType","prev","current","updated","v","handleApplyFilters","handleResetFilters","empty","handlePageChange","window","scrollTo","behavior","handleLoadMore","handleHeartClick","productId","preventDefault","isSaved","has","next","delete","add","handleDeleteClick","handleDeleteConfirm","reload","FullPageSpinner","pageTitle","breadcrumbItems","Breadcrumbs","opt","Grid","List","field","_Fragment","product","ProductCardList","onHeartClick","ProductCard","onDeleteClick","Package","x","stopPropagation","_product$store_prices","_product$images","imageError","setImageError","minPrice","storeCount","imageUrl","images","delay","Link","src","alt","onError","loading","brand_name","Heart","buttonVariants","ghost","link","xs","icon","forwardRef","ref","leftIcon","rightIcon","Loader2","displayName","Home","React","href","isHovered","setIsHovered","maxPrice","getMaxPrice","getStoreCount","reviewCount","review_count","badge","getProductBadge","onMouseEnter","onMouseLeave","button","whileHover","whileTap","Trash2","Star","toFixed","Store","Edit","limit","setAllProducts","setIsLoading","setFilterOptions","params","category","brandCounts","typeCounts","categoryCounts","priceBuckets","forEach","feature_type","category_name","allBrands","Object","entries","allTypes","_ref3","allCategories","_ref4","cat","Infinity","sortedVolumes","replace","err","message","fetchProducts","storePrices","sp","price","customPriceRange","filtered","some","split"],"sourceRoot":""}