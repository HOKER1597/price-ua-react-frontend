{"version":3,"file":"static/js/253.49d5200d.chunk.js","mappings":"oNAgKA,QA1JA,WACE,MAAOA,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAiBC,IAAsBF,EAAAA,EAAAA,UAAS,KAChDG,EAAUC,IAAeJ,EAAAA,EAAAA,UAAS,CAAEK,KAAM,MAC1CC,EAAOC,IAAYP,EAAAA,EAAAA,UAAS,OAC5BQ,EAASC,IAAcT,EAAAA,EAAAA,UAAS,OAChCU,EAAWC,IAAgBX,EAAAA,EAAAA,WAAS,IACpCY,EAAmBC,IAAwBb,EAAAA,EAAAA,WAAS,GAqF3D,OAnFAc,EAAAA,EAAAA,YAAU,KACYC,WAClB,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,GAADC,OAAIC,EAAAA,EAAO,YAC3CrB,EAAUiB,EAASK,KAAKC,MAAK,CAACC,EAAGC,IAAMD,EAAElB,KAAKoB,cAAcD,EAAEnB,QAChE,CAAE,MAAOqB,GACPC,QAAQrB,MAAM,kKAAiCoB,EACjD,GAEFE,EAAa,GACZ,KAEHd,EAAAA,EAAAA,YAAU,KACR,GAAIb,EAAiB,CACAc,WACjB,IACE,MAAMc,EAAQC,aAAaC,QAAQ,SAC7Bf,QAAiBC,EAAAA,EAAMC,IAAI,GAADC,OAAIC,EAAAA,EAAO,YAAAD,OAAWlB,GAAmB,CACvE+B,QAAS,CAAEC,cAAc,UAADd,OAAYU,MAEtCzB,EAAY,CAAEC,KAAMW,EAASK,KAAKhB,MACpC,CAAE,MAAOqB,GACPnB,EAAS,4LACX,GAEF2B,EACF,IACC,CAACjC,KAyDFkC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oCAAmCD,SAAA,EAChDE,EAAAA,EAAAA,KAAA,MAAID,UAAU,mBAAkBD,SAAC,iGACjCF,EAAAA,EAAAA,MAAA,QAAMK,SArDSzB,UAMnB,GALA0B,EAAEC,iBACF/B,GAAa,GACbJ,EAAS,MACTE,EAAW,OAENN,EAASE,KAGZ,OAFAE,EAAS,4JACTI,GAAa,GAIf,IACE,MAAMkB,EAAQC,aAAaC,QAAQ,eAC7Bd,EAAAA,EAAM0B,IAAI,GAADxB,OAAIC,EAAAA,EAAO,iBAAAD,OAAgBlB,GAAmBE,EAAU,CACrE6B,QAAS,CAAEC,cAAc,UAADd,OAAYU,MAEtCpB,EAAW,8HACb,CAAE,MAAOiB,GAAM,IAADkB,EAAAC,EACZtC,GAAqB,QAAZqC,EAAAlB,EAAIV,gBAAQ,IAAA4B,GAAM,QAANC,EAAZD,EAAcvB,YAAI,IAAAwB,OAAN,EAAZA,EAAoBvC,QAAS,qIACxC,CAAC,QACCK,GAAa,EACf,GA+BiC0B,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,2BAA0BD,SAAA,EACvCE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,qFACPF,EAAAA,EAAAA,MAAA,UACEW,MAAO7C,EACP8C,SAAWN,GAAMvC,EAAmBuC,EAAEO,OAAOF,OAC7CG,UAAQ,EAAAZ,SAAA,EAERE,EAAAA,EAAAA,KAAA,UAAQO,MAAM,GAAET,SAAC,oFAChBvC,EAAOoD,KAAKC,IACXZ,EAAAA,EAAAA,KAAA,UAAuBO,MAAOK,EAAMC,GAAGf,SACpCc,EAAM9C,MADI8C,EAAMC,aAMzBjB,EAAAA,EAAAA,MAAA,OAAKG,UAAU,2BAA0BD,SAAA,EACvCE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,yEACPE,EAAAA,EAAAA,KAAA,SACEc,KAAK,OACLhD,KAAK,OACLyC,MAAO3C,EAASE,KAChB0C,SAhFeN,IACzB,MAAM,KAAEpC,EAAI,MAAEyC,GAAUL,EAAEO,OAC1B5C,GAAWkD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAInD,GAAQ,IAAE,CAACE,GAAOyC,IAAQ,EA+EjCG,UAAQ,OAGX3C,IAASiC,EAAAA,EAAAA,KAAA,OAAKD,UAAU,iCAAgCD,SAAE/B,IAC1DE,IAAW+B,EAAAA,EAAAA,KAAA,OAAKD,UAAU,mCAAkCD,SAAE7B,KAC/D+B,EAAAA,EAAAA,KAAA,UAAQc,KAAK,SAASf,UAAU,4BAA4BiB,SAAU7C,IAAcT,EAAgBoC,SACjG3B,EAAY,kEAAkB,sDAEjC6B,EAAAA,EAAAA,KAAA,UACEc,KAAK,SACLf,UAAU,4BACVkB,MAAO,CAAEC,gBAAiB,UAAWC,UAAW,QAChDC,QA/DoBC,KAC5B/C,GAAqB,EAAK,EA+DlB0C,UAAWtD,EAAgBoC,SAC5B,2DAKJzB,IACC2B,EAAAA,EAAAA,KAAA,OAAKD,UAAU,gBAAeD,UAC5BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,eAAcD,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,wLAAqClC,EAASE,KAAK,QACrDC,IAASiC,EAAAA,EAAAA,KAAA,OAAKD,UAAU,cAAaD,SAAE/B,KACxC6B,EAAAA,EAAAA,MAAA,OAAKG,UAAU,gBAAeD,SAAA,EAC5BE,EAAAA,EAAAA,KAAA,UAAQD,UAAU,oCAAoCqB,QAnE7C5C,UACnB,IACE,MAAMc,EAAQC,aAAaC,QAAQ,eAC7Bd,EAAAA,EAAM4C,OAAO,GAAD1C,OAAIC,EAAAA,EAAO,iBAAAD,OAAgBlB,GAAmB,CAC9D+B,QAAS,CAAEC,cAAc,UAADd,OAAYU,MAEtCpB,EAAW,+HACXL,EAAY,CAAEC,KAAM,KACpBH,EAAmB,IACnBW,GAAqB,EACvB,CAAE,MAAOa,GAAM,IAADoC,EAAAC,EACZxD,GAAqB,QAAZuD,EAAApC,EAAIV,gBAAQ,IAAA8C,GAAM,QAANC,EAAZD,EAAczC,YAAI,IAAA0C,OAAN,EAAZA,EAAoBzD,QAAS,2IACxC,GAuDsF+B,SAAC,wBAC7EE,EAAAA,EAAAA,KAAA,UAAQD,UAAU,4BAA4BqB,QAzE3BK,KAC7BnD,GAAqB,GACrBN,EAAS,KAAK,EAuE0E8B,SAAC,2BAO7F,C","sources":["components/Admin/AdminBrandEdit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../utils/api';\r\nimport './AdminProductCreate.css';\r\nimport '../Wishlist.css'; // Import Wishlist.css for modal styles\r\n\r\nfunction AdminBrandEdit() {\r\n  const [brands, setBrands] = useState([]);\r\n  const [selectedBrandId, setSelectedBrandId] = useState('');\r\n  const [formData, setFormData] = useState({ name: '' });\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false); // State for delete modal\r\n\r\n  useEffect(() => {\r\n    const fetchBrands = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/brands`);\r\n        setBrands(response.data.sort((a, b) => a.name.localeCompare(b.name)));\r\n      } catch (err) {\r\n        console.error('Помилка завантаження брендів:', err);\r\n      }\r\n    };\r\n    fetchBrands();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedBrandId) {\r\n      const fetchBrand = async () => {\r\n        try {\r\n          const token = localStorage.getItem('token');\r\n          const response = await axios.get(`${API_URL}/brands/${selectedBrandId}`, {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n          });\r\n          setFormData({ name: response.data.name });\r\n        } catch (err) {\r\n          setError('Не вдалося завантажити дані бренду.');\r\n        }\r\n      };\r\n      fetchBrand();\r\n    }\r\n  }, [selectedBrandId]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    if (!formData.name) {\r\n      setError('Назва бренду є обов’язковою');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.put(`${API_URL}/admin/brand/${selectedBrandId}`, formData, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setSuccess('Бренд успішно оновлено!');\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Не вдалося оновити бренд.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenDeleteModal = () => {\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleCloseDeleteModal = () => {\r\n    setIsDeleteModalOpen(false);\r\n    setError(null);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.delete(`${API_URL}/admin/brand/${selectedBrandId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setSuccess('Бренд успішно видалено!');\r\n      setFormData({ name: '' });\r\n      setSelectedBrandId('');\r\n      setIsDeleteModalOpen(false);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Не вдалося видалити бренд.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"admin-product-create animate-page\">\r\n        <h2 className=\"centered-heading\">Редагувати бренд</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group animate-field\">\r\n            <label>Виберіть бренд</label>\r\n            <select\r\n              value={selectedBrandId}\r\n              onChange={(e) => setSelectedBrandId(e.target.value)}\r\n              required\r\n            >\r\n              <option value=\"\">Виберіть бренд</option>\r\n              {brands.map((brand) => (\r\n                <option key={brand.id} value={brand.id}>\r\n                  {brand.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group animate-field\">\r\n            <label>Назва бренду</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleInputChange}\r\n              required\r\n            />\r\n          </div>\r\n          {error && <div className=\"error-message centered-message\">{error}</div>}\r\n          {success && <div className=\"success-message centered-message\">{success}</div>}\r\n          <button type=\"submit\" className=\"save-button animate-field\" disabled={isLoading || !selectedBrandId}>\r\n            {isLoading ? 'Збереження...' : 'Зберегти'}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"save-button animate-field\"\r\n            style={{ backgroundColor: '#ff6f61', marginTop: '10px' }}\r\n            onClick={handleOpenDeleteModal}\r\n            disabled={!selectedBrandId}\r\n          >\r\n            Видалити\r\n          </button>\r\n        </form>\r\n      </div>\r\n      {isDeleteModalOpen && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"delete-modal\">\r\n            <p>Ви точно хочете видалити цей бренд \"{formData.name}\"?</p>\r\n            {error && <div className=\"modal-error\">{error}</div>}\r\n            <div className=\"modal-buttons\">\r\n              <button className=\"wishlist-modal-confirm-delete-btn\" onClick={handleDelete}>Так</button>\r\n              <button className=\"wishlist-modal-cancel-btn\" onClick={handleCloseDeleteModal}>Ні</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminBrandEdit;"],"names":["brands","setBrands","useState","selectedBrandId","setSelectedBrandId","formData","setFormData","name","error","setError","success","setSuccess","isLoading","setIsLoading","isDeleteModalOpen","setIsDeleteModalOpen","useEffect","async","response","axios","get","concat","API_URL","data","sort","a","b","localeCompare","err","console","fetchBrands","token","localStorage","getItem","headers","Authorization","fetchBrand","_jsxs","_Fragment","children","className","_jsx","onSubmit","e","preventDefault","put","_err$response","_err$response$data","value","onChange","target","required","map","brand","id","type","_objectSpread","disabled","style","backgroundColor","marginTop","onClick","handleOpenDeleteModal","delete","_err$response2","_err$response2$data","handleCloseDeleteModal"],"sourceRoot":""}