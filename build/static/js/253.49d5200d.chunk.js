"use strict";(self.webpackChunkprice_ua=self.webpackChunkprice_ua||[]).push([[253],{1498:()=>{},3253:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var n=t(2555),s=t(5043),l=t(9722),c=t(9688),r=(t(1498),t(9409),t(579));const i=function(){const[e,a]=(0,s.useState)([]),[t,i]=(0,s.useState)(""),[o,d]=(0,s.useState)({name:""}),[m,u]=(0,s.useState)(null),[h,v]=(0,s.useState)(null),[x,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat(c.H,"/brands"));a(e.data.sort(((e,a)=>e.name.localeCompare(a.name))))}catch(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0431\u0440\u0435\u043d\u0434\u0456\u0432:",e)}})()}),[]),(0,s.useEffect)((()=>{if(t){(async()=>{try{const e=localStorage.getItem("token"),a=await l.A.get("".concat(c.H,"/brands/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});d({name:a.data.name})}catch(e){u("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0431\u0440\u0435\u043d\u0434\u0443.")}})()}}),[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"admin-product-create animate-page",children:[(0,r.jsx)("h2",{className:"centered-heading",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0431\u0440\u0435\u043d\u0434"}),(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p(!0),u(null),v(null),!o.name)return u("\u041d\u0430\u0437\u0432\u0430 \u0431\u0440\u0435\u043d\u0434\u0443 \u0454 \u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u043e\u044e"),void p(!1);try{const e=localStorage.getItem("token");await l.A.put("".concat(c.H,"/admin/brand/").concat(t),o,{headers:{Authorization:"Bearer ".concat(e)}}),v("\u0411\u0440\u0435\u043d\u0434 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e!")}catch(s){var a,n;u((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0431\u0440\u0435\u043d\u0434.")}finally{p(!1)}},children:[(0,r.jsxs)("div",{className:"form-group animate-field",children:[(0,r.jsx)("label",{children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0440\u0435\u043d\u0434"}),(0,r.jsxs)("select",{value:t,onChange:e=>i(e.target.value),required:!0,children:[(0,r.jsx)("option",{value:"",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0440\u0435\u043d\u0434"}),e.map((e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,r.jsxs)("div",{className:"form-group animate-field",children:[(0,r.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430 \u0431\u0440\u0435\u043d\u0434\u0443"}),(0,r.jsx)("input",{type:"text",name:"name",value:o.name,onChange:e=>{const{name:a,value:t}=e.target;d((0,n.A)((0,n.A)({},o),{},{[a]:t}))},required:!0})]}),m&&(0,r.jsx)("div",{className:"error-message centered-message",children:m}),h&&(0,r.jsx)("div",{className:"success-message centered-message",children:h}),(0,r.jsx)("button",{type:"submit",className:"save-button animate-field",disabled:x||!t,children:x?"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),(0,r.jsx)("button",{type:"button",className:"save-button animate-field",style:{backgroundColor:"#ff6f61",marginTop:"10px"},onClick:()=>{f(!0)},disabled:!t,children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]}),b&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"delete-modal",children:[(0,r.jsxs)("p",{children:['\u0412\u0438 \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0431\u0440\u0435\u043d\u0434 "',o.name,'"?']}),m&&(0,r.jsx)("div",{className:"modal-error",children:m}),(0,r.jsxs)("div",{className:"modal-buttons",children:[(0,r.jsx)("button",{className:"wishlist-modal-confirm-delete-btn",onClick:async()=>{try{const e=localStorage.getItem("token");await l.A.delete("".concat(c.H,"/admin/brand/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),v("\u0411\u0440\u0435\u043d\u0434 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e!"),d({name:""}),i(""),f(!1)}catch(n){var e,a;u((null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0431\u0440\u0435\u043d\u0434.")}},children:"\u0422\u0430\u043a"}),(0,r.jsx)("button",{className:"wishlist-modal-cancel-btn",onClick:()=>{f(!1),u(null)},children:"\u041d\u0456"})]})]})})]})}},9409:()=>{}}]);
//# sourceMappingURL=253.49d5200d.chunk.js.map