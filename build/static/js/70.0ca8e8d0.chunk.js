"use strict";(self.webpackChunkprice_ua=self.webpackChunkprice_ua||[]).push([[70],{70:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(2555),l=t(5043),n=t(9002),c=t(9722),i=t(9688),r=(t(2375),t(579));const o=function(){const[e,a]=(0,l.useState)(""),[t,o]=(0,l.useState)(""),[u,h]=(0,l.useState)(""),[m,d]=(0,l.useState)(""),[p,x]=(0,l.useState)(!1),[N,j]=(0,l.useState)({nickname:!1,email:!1,password:!1}),k=(0,n.Zp)();(0,l.useEffect)((()=>{x(!0),j({nickname:!1,email:!1,password:!1});const e=[setTimeout((()=>j((e=>(0,s.A)((0,s.A)({},e),{},{nickname:!0})))),100),setTimeout((()=>j((e=>(0,s.A)((0,s.A)({},e),{},{email:!0})))),200),setTimeout((()=>j((e=>(0,s.A)((0,s.A)({},e),{},{password:!0})))),300)];return()=>e.forEach(clearTimeout)}),[]);const v=async()=>{try{const a=await c.A.post("".concat(i.H,"/register"),{nickname:e,email:t,password:u});localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),k("/")}catch(l){var a,s;d((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}},g=e=>{"Enter"===e.key&&v()};return(0,r.jsx)("div",{className:"auth-page",children:(0,r.jsxs)("div",{className:"auth-container ".concat(p?"animate":""),children:[(0,r.jsx)("h2",{className:"auth-title",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),m&&(0,r.jsx)("p",{className:"error",children:m}),(0,r.jsx)("label",{className:"auth-label",children:"\u041d\u0456\u043a\u043d\u0435\u0439\u043c"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),onKeyPress:g,className:"auth-input ".concat(N.nickname?"field-animate":""),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0456\u043a\u043d\u0435\u0439\u043c"}),(0,r.jsx)("label",{className:"auth-label",children:"\u041f\u043e\u0448\u0442\u0430"}),(0,r.jsx)("input",{type:"email",value:t,onChange:e=>o(e.target.value),onKeyPress:g,className:"auth-input ".concat(N.email?"field-animate":""),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0448\u0442\u0443"}),(0,r.jsx)("label",{className:"auth-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,r.jsx)("input",{type:"password",value:u,onChange:e=>h(e.target.value),onKeyPress:g,className:"auth-input ".concat(N.password?"field-animate":""),placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,r.jsx)("button",{onClick:v,className:"auth-button",children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),(0,r.jsxs)("p",{className:"auth-switch",children:["\u0412\u0436\u0435 \u043c\u0430\u0454\u0442\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",(0,r.jsx)(n.N_,{to:"/login",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})]})})}},2375:()=>{}}]);
//# sourceMappingURL=70.0ca8e8d0.chunk.js.map