{"version":3,"file":"static/js/287.7e472ae2.chunk.js","mappings":"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","sources":["components/Admin/AdminProductEdit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../utils/api';\r\nimport './AdminProductEdit.css';\r\n\r\nfunction AdminProductEdit() {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [brands, setBrands] = useState([]);\r\n  const [stores, setStores] = useState([]);\r\n  const [selectedProductId, setSelectedProductId] = useState('');\r\n  const [formData, setFormData] = useState({\r\n    category_id: '',\r\n    brand_id: '',\r\n    name: '',\r\n    volume: '',\r\n    images: [{ type: 'new', file: null }],\r\n    code: '',\r\n    features: [{ key: '', value: '' }],\r\n    description: '',\r\n    description_full: '',\r\n    composition: '',\r\n    usage: '',\r\n    store_prices: [{ store_id: '', price: '', link: '' }],\r\n  });\r\n  const [previewImages, setPreviewImages] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const queryParams = new URLSearchParams(location.search);\r\n    const productIdFromQuery = queryParams.get('productId');\r\n    if (productIdFromQuery) {\r\n      setSelectedProductId(productIdFromQuery);\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/products?limit=1000`);\r\n        setProducts(response.data.products.sort((a, b) => a.name.localeCompare(b.name)));\r\n      } catch (err) {\r\n        console.error('Помилка завантаження товарів:', err);\r\n        setError('Не вдалося завантажити товари.');\r\n      }\r\n    };\r\n\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/categories/public`);\r\n        setCategories(response.data.sort((a, b) => a.name_ua.localeCompare(b.name_ua)));\r\n      } catch (err) {\r\n        console.error('Помилка завантаження категорій:', err);\r\n        setError('Не вдалося завантажити категорії.');\r\n      }\r\n    };\r\n\r\n    const fetchBrands = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/brands`);\r\n        setBrands(response.data.sort((a, b) => a.name.localeCompare(b.name)));\r\n      } catch (err) {\r\n        console.error('Помилка завантаження брендів:', err);\r\n        setError('Не вдалося завантажити бренди.');\r\n      }\r\n    };\r\n\r\n    const fetchStores = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/stores`);\r\n        setStores(response.data.sort((a, b) => a.name.localeCompare(b.name)));\r\n      } catch (err) {\r\n        console.error('Помилка завантаження магазинів:', err);\r\n        setError('Не вдалося завантажити магазини.');\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n    fetchCategories();\r\n    fetchBrands();\r\n    fetchStores();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedProductId) {\r\n      const fetchProductDetails = async () => {\r\n        try {\r\n          const response = await axios.get(`${API_URL}/products/${selectedProductId}`);\r\n          const product = response.data;\r\n          const featuresArray = Object.entries(product.features || {}).map(([key, value]) => ({\r\n            key: key === 'hairType' ? 'type' : key,\r\n            value: value || '',\r\n          })).filter(f => f.key && f.value);\r\n          const images = product.images\r\n            .filter(url => url && !url.includes('placeholder.webp'))\r\n            .map(url => ({ type: 'existing', url }));\r\n          setFormData({\r\n            category_id: product.category_id ? product.category_id.toString() : '',\r\n            brand_id: product.brand_id ? product.brand_id.toString() : '',\r\n            name: product.name || '',\r\n            volume: product.volume || '',\r\n            images: images.length > 0 ? images : [{ type: 'new', file: null }],\r\n            code: product.code || '',\r\n            features: featuresArray.length > 0 ? featuresArray : [{ key: '', value: '' }],\r\n            description: product.description || '',\r\n            description_full: product.description_full || '',\r\n            composition: product.composition || '',\r\n            usage: product.usage || '',\r\n            store_prices: product.store_prices.length > 0 ? product.store_prices.map(sp => ({\r\n              store_id: sp.store_id.toString(),\r\n              price: sp.price.toString(),\r\n              link: sp.link || '',\r\n            })) : [{ store_id: '', price: '', link: '' }],\r\n          });\r\n          setPreviewImages(product.images.filter(url => url && !url.includes('placeholder.webp')));\r\n        } catch (err) {\r\n          console.error('Помилка завантаження деталей товару:', err);\r\n          setError('Не вдалося завантажити дані товару.');\r\n        }\r\n      };\r\n      fetchProductDetails();\r\n    } else {\r\n      setFormData({\r\n        category_id: '',\r\n        brand_id: '',\r\n        name: '',\r\n        volume: '',\r\n        images: [{ type: 'new', file: null }],\r\n        code: '',\r\n        features: [{ key: '', value: '' }],\r\n        description: '',\r\n        description_full: '',\r\n        composition: '',\r\n        usage: '',\r\n        store_prices: [{ store_id: '', price: '', link: '' }],\r\n      });\r\n      setPreviewImages([]);\r\n    }\r\n  }, [selectedProductId]);\r\n\r\n  const handleInputChange = (e, index, field, type) => {\r\n    const { name, value } = e.target;\r\n    if (type === 'image') {\r\n      const newImages = [...formData.images];\r\n      const newPreviewImages = [...previewImages];\r\n      if (e.target.files[0]) {\r\n        newImages[index] = { type: 'new', file: e.target.files[0] };\r\n        newPreviewImages[index] = URL.createObjectURL(e.target.files[0]);\r\n      } else {\r\n        newImages[index] = { type: 'new', file: null };\r\n        newPreviewImages[index] = null;\r\n      }\r\n      setFormData({ ...formData, images: newImages });\r\n      setPreviewImages(newPreviewImages);\r\n    } else if (type === 'feature') {\r\n      const newFeatures = [...formData.features];\r\n      newFeatures[index][field] = value;\r\n      setFormData({ ...formData, features: newFeatures });\r\n    } else if (type === 'store_price') {\r\n      const newStorePrices = [...formData.store_prices];\r\n      newStorePrices[index][field] = value;\r\n      setFormData({ ...formData, store_prices: newStorePrices });\r\n    } else {\r\n      setFormData({ ...formData, [name]: value });\r\n    }\r\n  };\r\n\r\n  const addImageField = () => {\r\n    if (formData.images.length < 10) {\r\n      setFormData({ ...formData, images: [...formData.images, { type: 'new', file: null }] });\r\n      setPreviewImages([...previewImages, null]);\r\n    }\r\n  };\r\n\r\n  const removeImageField = (index) => {\r\n    const newImages = formData.images.filter((_, i) => i !== index);\r\n    const newPreviewImages = previewImages.filter((_, i) => i !== index);\r\n    setFormData({ ...formData, images: newImages.length > 0 ? newImages : [{ type: 'new', file: null }] });\r\n    setPreviewImages(newPreviewImages.length > 0 ? newPreviewImages : []);\r\n  };\r\n\r\n  const addFeatureField = () => {\r\n    if (formData.features.length < 10) {\r\n      setFormData({ ...formData, features: [...formData.features, { key: '', value: '' }] });\r\n    }\r\n  };\r\n\r\n  const removeFeatureField = (index) => {\r\n    const newFeatures = formData.features.filter((_, i) => i !== index);\r\n    setFormData({ ...formData, features: newFeatures.length > 0 ? newFeatures : [{ key: '', value: '' }] });\r\n  };\r\n\r\n  const addStorePriceField = () => {\r\n    if (formData.store_prices.length < 10) {\r\n      setFormData({\r\n        ...formData,\r\n        store_prices: [...formData.store_prices, { store_id: '', price: '', link: '' }],\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeStorePriceField = (index) => {\r\n    const newStorePrices = formData.store_prices.filter((_, i) => i !== index);\r\n    setFormData({\r\n      ...formData,\r\n      store_prices: newStorePrices.length > 0 ? newStorePrices : [{ store_id: '', price: '', link: '' }],\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!selectedProductId) {\r\n      setError('Виберіть товар для редагування.');\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    if (!formData.category_id || !formData.brand_id || !formData.name) {\r\n      setError('Заповніть обов’язкові поля: категорія, бренд, назва');\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem('token');\r\n    const formDataToSend = new FormData();\r\n\r\n    formDataToSend.append('category_id', formData.category_id);\r\n    formDataToSend.append('brand_id', formData.brand_id);\r\n    formDataToSend.append('name', formData.name);\r\n    formDataToSend.append('volume', formData.volume);\r\n    formDataToSend.append('code', formData.code);\r\n    formDataToSend.append('description', formData.description);\r\n    formDataToSend.append('description_full', formData.description_full);\r\n    formDataToSend.append('composition', formData.composition);\r\n    formDataToSend.append('usage', formData.usage);\r\n\r\n    const featureMap = formData.features.reduce((acc, feature) => {\r\n      if (feature.key && feature.value) {\r\n        acc[feature.key] = feature.value;\r\n      }\r\n      return acc;\r\n    }, {});\r\n    formDataToSend.append('features', JSON.stringify(featureMap));\r\n\r\n    const validStorePrices = formData.store_prices.filter(\r\n      (store) => store.store_id && store.price && !isNaN(parseFloat(store.price))\r\n    );\r\n    formDataToSend.append('store_prices', JSON.stringify(validStorePrices));\r\n\r\n    const existingImages = formData.images\r\n      .filter(image => image.type === 'existing' && image.url && !image.url.includes('placeholder.webp'))\r\n      .map(image => image.url);\r\n    formDataToSend.append('existing_images', JSON.stringify(existingImages));\r\n\r\n    formData.images.forEach((image) => {\r\n      if (image.type === 'new' && image.file instanceof File) {\r\n        formDataToSend.append('images', image.file);\r\n      }\r\n    });\r\n\r\n    try {\r\n      await axios.put(`${API_URL}/admin/product/${selectedProductId}`, formDataToSend, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      setSuccess('Товар успішно оновлено!');\r\n    } catch (err) {\r\n      console.error('Помилка оновлення товару:', {\r\n        message: err.message,\r\n        response: err.response ? err.response.data : 'No response data',\r\n      });\r\n      setError(err.response?.data?.error || 'Не вдалося оновити товар. Перевірте дані або підключення до сервера.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const featureOptions = [\r\n    { key: 'brand', label: 'Бренд' },\r\n    { key: 'country', label: 'Країна' },\r\n    { key: 'type', label: 'Тип' },\r\n    { key: 'class', label: 'Клас' },\r\n    { key: 'category', label: 'Категорія' },\r\n    { key: 'purpose', label: 'Призначення' },\r\n    { key: 'gender', label: 'Стать' },\r\n    { key: 'active_ingredients', label: 'Активні інгредієнти' },\r\n  ];\r\n\r\n  const getAvailableFeatureOptions = (currentIndex) => {\r\n    const selectedKeys = formData.features\r\n      .filter((_, index) => index !== currentIndex)\r\n      .map(f => f.key)\r\n      .filter(key => key);\r\n    return featureOptions.filter(option => !selectedKeys.includes(option.key));\r\n  };\r\n\r\n  const getAvailableStoreOptions = (currentIndex) => {\r\n    const selectedStoreIds = formData.store_prices\r\n      .filter((_, index) => index !== currentIndex)\r\n      .map(s => s.store_id)\r\n      .filter(id => id);\r\n    return stores.filter(store => !selectedStoreIds.includes(store.id.toString()));\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-product-edit animate-page\">\r\n      <h2 className=\"centered-heading\">Редагувати товар</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Товар</label>\r\n          <select\r\n            value={selectedProductId}\r\n            onChange={(e) => setSelectedProductId(e.target.value)}\r\n          >\r\n            <option value=\"\">Виберіть товар</option>\r\n            {products.map((product) => (\r\n              <option key={product.id} value={product.id}>\r\n                {product.name} (ID: {product.id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Категорія</label>\r\n          <select\r\n            name=\"category_id\"\r\n            value={formData.category_id}\r\n            onChange={(e) => handleInputChange(e)}\r\n            required\r\n            disabled={categories.length === 0}\r\n          >\r\n            <option value=\"\">Виберіть категорію</option>\r\n            {categories.map((category) => (\r\n              <option key={category.id} value={category.id}>\r\n                {category.name_ua}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {categories.length === 0 && <p>Завантаження категорій...</p>}\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Бренд</label>\r\n          <select\r\n            name=\"brand_id\"\r\n            value={formData.brand_id}\r\n            onChange={(e) => handleInputChange(e)}\r\n            required\r\n            disabled={brands.length === 0}\r\n          >\r\n            <option value=\"\">Виберіть бренд</option>\r\n            {brands.map((brand) => (\r\n              <option key={brand.id} value={brand.id}>\r\n                {brand.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {brands.length === 0 && <p>Завантаження брендів...</p>}\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Назва</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={(e) => handleInputChange(e)}\r\n            required\r\n          />\r\n        </div>\r\n        {formData.images.map((image, index) => (\r\n          <div key={index} className=\"form-group animate-field image-group\">\r\n            <label>Зображення {index + 1}</label>\r\n            <div className=\"input-with-button\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => handleInputChange(e, index, 'image', 'image')}\r\n              />\r\n              <div className=\"button-group\">\r\n                {index === formData.images.length - 1 && formData.images.length < 10 && (\r\n                  <>\r\n                    <button type=\"button\" className=\"add-button\" onClick={addImageField}>\r\n                      +\r\n                    </button>\r\n                    {formData.images.length > 1 && (\r\n                      <button type=\"button\" className=\"remove-button\" onClick={() => removeImageField(index)}>\r\n                        -\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {index !== formData.images.length - 1 && (\r\n                  <button type=\"button\" className=\"remove-button\" onClick={() => removeImageField(index)}>\r\n                    -\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {previewImages[index] && (\r\n              <div className=\"image-preview\">\r\n                <img src={previewImages[index]} alt={`Preview ${index + 1}`} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n        <div className=\"form-group animate-field\">\r\n          <label>Об’єм</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"volume\"\r\n            value={formData.volume}\r\n            onChange={(e) => handleInputChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Код</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"code\"\r\n            value={formData.code}\r\n            onChange={(e) => handleInputChange(e)}\r\n          />\r\n        </div>\r\n        <h3>Характеристики</h3>\r\n        {formData.features.map((feature, index) => (\r\n          <div key={index} className=\"form-group feature-group animate-field\">\r\n            <div className=\"input-with-button\">\r\n              <select\r\n                value={feature.key}\r\n                onChange={(e) => handleInputChange(e, index, 'key', 'feature')}\r\n              >\r\n                <option value=\"\">Виберіть характеристику</option>\r\n                {getAvailableFeatureOptions(index).map((option) => (\r\n                  <option key={option.key} value={option.key}>\r\n                    {option.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <input\r\n                type=\"text\"\r\n                value={feature.value}\r\n                onChange={(e) => handleInputChange(e, index, 'value', 'feature')}\r\n                placeholder=\"Значення\"\r\n              />\r\n              <div className=\"button-group\">\r\n                {index === formData.features.length - 1 && formData.features.length < 10 && (\r\n                  <>\r\n                    <button type=\"button\" className=\"add-button\" onClick={addFeatureField}>\r\n                      +\r\n                    </button>\r\n                    {formData.features.length > 1 && (\r\n                      <button type=\"button\" className=\"remove-button\" onClick={() => removeFeatureField(index)}>\r\n                        -\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {index !== formData.features.length - 1 && (\r\n                  <button type=\"button\" className=\"remove-button\" onClick={() => removeFeatureField(index)}>\r\n                    -\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className=\"form-group animate-field\">\r\n          <label>Короткий опис</label>\r\n          <textarea\r\n            name=\"description\"\r\n            value={formData.description}\r\n            onChange={(e) => handleInputChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Повний опис</label>\r\n          <textarea\r\n            name=\"description_full\"\r\n            value={formData.description_full}\r\n            onChange={(e) => handleInputChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Склад</label>\r\n          <textarea\r\n            name=\"composition\"\r\n            value={formData.composition}\r\n            onChange={(e) => handleInputChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group animate-field\">\r\n          <label>Використання</label>\r\n          <textarea\r\n            name=\"usage\"\r\n            value={formData.usage}\r\n            onChange={(e) => handleInputChange(e)}\r\n          />\r\n        </div>\r\n        <h3>Ціни в магазинах</h3>\r\n        {formData.store_prices.map((store, index) => (\r\n          <div key={index} className=\"form-group store-price-group animate-field\">\r\n            <div className=\"input-with-button\">\r\n              <select\r\n                value={store.store_id}\r\n                onChange={(e) => handleInputChange(e, index, 'store_id', 'store_price')}\r\n              >\r\n                <option value=\"\">Виберіть магазин</option>\r\n                {getAvailableStoreOptions(index).map((store) => (\r\n                  <option key={store.id} value={store.id}>\r\n                    {store.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <input\r\n                type=\"number\"\r\n                value={store.price}\r\n                onChange={(e) => handleInputChange(e, index, 'price', 'store_price')}\r\n                placeholder=\"Ціна\"\r\n                min=\"0\"\r\n                step=\"0.01\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                value={store.link}\r\n                onChange={(e) => handleInputChange(e, index, 'link', 'store_price')}\r\n                placeholder=\"Посилання\"\r\n              />\r\n              <div className=\"button-group\">\r\n                {index === formData.store_prices.length - 1 && formData.store_prices.length < 10 && (\r\n                  <>\r\n                    <button type=\"button\" className=\"add-button\" onClick={addStorePriceField}>\r\n                      +\r\n                    </button>\r\n                    {formData.store_prices.length > 1 && (\r\n                      <button type=\"button\" className=\"remove-button\" onClick={() => removeStorePriceField(index)}>\r\n                        -\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n                {index !== formData.store_prices.length - 1 && (\r\n                  <button type=\"button\" className=\"remove-button\" onClick={() => removeStorePriceField(index)}>\r\n                    -\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {error && <div className=\"error-message centered-message\">{error}</div>}\r\n        {success && <div className=\"success-message centered-message\">{success}</div>}\r\n        <button type=\"submit\" className=\"save-button animate-field\" disabled={isLoading}>\r\n          {isLoading ? 'Оновлення...' : 'Оновити товар'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminProductEdit;"],"names":["products","setProducts","useState","categories","setCategories","brands","setBrands","stores","setStores","selectedProductId","setSelectedProductId","formData","setFormData","category_id","brand_id","name","volume","images","type","file","code","features","key","value","description","description_full","composition","usage","store_prices","store_id","price","link","previewImages","setPreviewImages","error","setError","success","setSuccess","isLoading","setIsLoading","location","useLocation","useEffect","productIdFromQuery","URLSearchParams","search","get","async","response","axios","concat","API_URL","data","sort","a","b","localeCompare","err","console","fetchProducts","name_ua","fetchCategories","fetchBrands","fetchStores","product","featuresArray","Object","entries","map","_ref","filter","f","url","includes","toString","length","sp","fetchProductDetails","handleInputChange","e","index","field","target","newImages","newPreviewImages","files","URL","createObjectURL","_objectSpread","newFeatures","newStorePrices","addImageField","removeImageField","_","i","addFeatureField","removeFeatureField","addStorePriceField","removeStorePriceField","featureOptions","label","getAvailableFeatureOptions","currentIndex","selectedKeys","option","getAvailableStoreOptions","selectedStoreIds","s","id","store","_jsxs","className","children","_jsx","onSubmit","preventDefault","token","localStorage","getItem","formDataToSend","FormData","append","featureMap","reduce","acc","feature","JSON","stringify","validStorePrices","isNaN","parseFloat","existingImages","image","forEach","File","put","headers","Authorization","_err$response","_err$response$data","message","onChange","required","disabled","category","brand","accept","_Fragment","onClick","src","alt","placeholder","min","step"],"sourceRoot":""}