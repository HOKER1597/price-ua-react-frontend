{"version":3,"file":"static/js/242.f75c60b7.chunk.js","mappings":"sLA8EA,QAxEA,WACE,MAAMA,GAAWC,EAAAA,EAAAA,MAsCjB,OAnCAC,EAAAA,EAAAA,YAAU,KACWC,WACjB,MAAMC,EAAQC,aAAaC,QAAQ,SACnC,IAAKF,EAGH,OAFAG,QAAQC,IAAI,6CACZR,EAAS,UAIX,UAEQS,EAAAA,EAAMC,IAAI,GAADC,OAAIC,EAAAA,EAAO,YAAY,CACpCC,QAAS,CAAEC,cAAc,UAADH,OAAYP,KAExC,CAAE,MAAOW,GAAM,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACZhB,QAAQiB,MAAM,0BAA2BT,GAGd,OAAb,QAAZC,EAAAD,EAAIU,gBAAQ,IAAAT,OAAA,EAAZA,EAAcU,SACW,OAAb,QAAZT,EAAAF,EAAIU,gBAAQ,IAAAR,OAAA,EAAZA,EAAcS,SACF,QADgBR,EAC5BH,EAAIU,gBAAQ,IAAAP,GAAM,QAANC,EAAZD,EAAcS,YAAI,IAAAR,GAAS,QAATC,EAAlBD,EAAoBS,eAAO,IAAAR,GAA3BA,EAA6BS,cAAcC,SAAS,gBACxC,QADsDT,EAClEN,EAAIU,gBAAQ,IAAAJ,GAAM,QAANC,EAAZD,EAAcM,YAAI,IAAAL,GAAO,QAAPC,EAAlBD,EAAoBE,aAAK,IAAAD,GAAzBA,EAA2BM,cAAcC,SAAS,gBAElDvB,QAAQC,IAAI,kDACZH,aAAa0B,WAAW,SACxB/B,EAAS,WAETO,QAAQiB,MAAM,4CAA6CT,EAE/D,GAGFiB,EAAY,GACX,CAAChC,KAGFiC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BC,SAAA,EAC3CC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yEACJF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,sBAAsBJ,UAAU,eAAcC,SAAC,yEAGxDC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,oBAAoBJ,UAAU,eAAcC,SAAC,iGAGtDC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,sBAAsBJ,UAAU,eAAcC,SAAC,qFAGxDC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,oBAAoBJ,UAAU,eAAcC,SAAC,6GAGtDC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,wBAAwBJ,UAAU,eAAcC,SAAC,oHAG1DC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,sBAAsBJ,UAAU,eAAcC,SAAC,iGAGxDC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,+BAA+BJ,UAAU,eAAcC,SAAC,sIAGjEC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,6BAA6BJ,UAAU,eAAcC,SAAC,kKAMvE,C","sources":["components/Admin/AdminDashboard.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../utils/api';\r\nimport './AdminDashboard.css';\r\n\r\nfunction AdminDashboard() {\r\n  const navigate = useNavigate();\r\n\r\n  // Check token validity on component mount\r\n  useEffect(() => {\r\n    const checkToken = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.log('No token found, redirecting to login');\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Make a test API call to verify token\r\n        await axios.get(`${API_URL}/profile`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n      } catch (err) {\r\n        console.error('Error validating token:', err);\r\n        // Check for 401/403 or specific JWT expiration error\r\n        if (\r\n          err.response?.status === 401 ||\r\n          err.response?.status === 403 ||\r\n          err.response?.data?.message?.toLowerCase().includes('jwt expired') ||\r\n          err.response?.data?.error?.toLowerCase().includes('jwt expired')\r\n        ) {\r\n          console.log('Invalid or expired token, redirecting to login');\r\n          localStorage.removeItem('token'); // Clear invalid token\r\n          navigate('/login');\r\n        } else {\r\n          console.error('Unexpected error during token validation:', err);\r\n        }\r\n      }\r\n    };\r\n\r\n    checkToken();\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"admin-dashboard animate-page\">\r\n      <h2>Адмін-панель</h2>\r\n      <div className=\"button-container\">\r\n        <Link to=\"/admin/brand-create\" className=\"admin-button\">\r\n          Додати бренд\r\n        </Link>\r\n        <Link to=\"/admin/brand-edit\" className=\"admin-button\">\r\n          Редагувати бренд\r\n        </Link>\r\n        <Link to=\"/admin/store-create\" className=\"admin-button\">\r\n          Додати магазин\r\n        </Link>\r\n        <Link to=\"/admin/store-edit\" className=\"admin-button\">\r\n          Редагувати магазин\r\n        </Link>\r\n        <Link to=\"/admin/product-create\" className=\"admin-button\">\r\n          Створити новий товар\r\n        </Link>\r\n        <Link to=\"/admin/product-edit\" className=\"admin-button\">\r\n          Редагувати товар\r\n        </Link>\r\n        <Link to=\"/admin/store-location-create\" className=\"admin-button\">\r\n          Додати локацію магазину\r\n        </Link>\r\n        <Link to=\"/admin/store-location-edit\" className=\"admin-button\">\r\n          Редагувати локацію магазину\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;"],"names":["navigate","useNavigate","useEffect","async","token","localStorage","getItem","console","log","axios","get","concat","API_URL","headers","Authorization","err","_err$response","_err$response2","_err$response3","_err$response3$data","_err$response3$data$m","_err$response4","_err$response4$data","_err$response4$data$e","error","response","status","data","message","toLowerCase","includes","removeItem","checkToken","_jsxs","className","children","_jsx","Link","to"],"sourceRoot":""}